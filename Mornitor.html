<!DOCTYPE html>
<html lang="en">

<head>
	<title>Siam Toyodensan Co., Ltd.</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="st_web.css">
	<link rel="stylesheet" href="date_picker.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.bundle.min.js"></script>

	<script src="utils.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<link rel="icon" href="src/LOGO.png">

	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"
		type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet"
		type="text/css" />

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
	<style>
		.fontBox
		{
			width: 80px;
			height: 20px;
			font-size: 18px;
			color: white;
		}
		.controllBox
		{
			background-color: #93e4ff;
			padding: 10px;
		}
		.dot 
		{
			height: 20px;
			width: 20px;
			border-radius: 50%;
			background-color: #bbb;
		}
	</style>
</head>

<body>
	<nav class="navbar navbar-inverse">
		<div class="container-fluid"></div>
		<a class="navbar-brand" id="b6">STYDS</a>
		<ul class="nav navbar-nav " style="float:right">
			<li class="dropdown">
				<a href="javascript:void(0)" class="dropbtn"><span class="glyphicon glyphicon-user"></span>
					&nbsp;&nbsp;&nbsp;&nbsp; </a>
				<div class="dropdown-content">
					<!--
							<a class="glyphicon glyphicon-cog" href="#" data-toggle="modal" data-target="#myModal"> Manage Hardware</a>
							<a class="glyphicon glyphicon-tags" href="#" data-toggle="modal" data-target="#myModal_Edit_User" id="Enable_Edit_User" > Manage User</a>
							<a class="glyphicon glyphicon-share" href="#" data-toggle="modal" data-target="#myModal_Export"> Export Data</a>
						-->
					<a class="glyphicon glyphicon-log-out" href="#" onclick="Logout()"> Logout</a>
				</div>
			</li>
		</ul>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="panel panel-default">
			<div class="panel-body">

				<table style="width:100%">
					<tr>
						<th style="width:25%">Factory</th>
						<th style="width:25%">Location</th>
						<th style="width:25%">Type of machine</th>
						<th style="width:10%"></th>
					</tr>

					<tr>
						<td>
							<select id="Factories_Select" onclick="List_Location()" class="form-control"
								style="width:90%">

							</select>
						</td>
						<td>
							<select id="Location_Select" onclick="List_Machine()" class="form-control"
								style="width:90%">

							</select>
						</td>
						<td>
							<select id="Machine_Select" class="form-control" style="width:90%">

							</select>
						</td>
						<td>
							<button type="button" style="width:100%" class="btn btn-primary"
								onclick="Select_Component()"><span class="glyphicon glyphicon-search"></span>
								Select</button>
						</td>
					</tr>

				</table>
			</div>
		</div>
	</div>

	<div class="container-fluid" id="Panel_Show_All">
		<div class="panel panel-default">

			<div class="panel-body">

				<div class="panel panel-default">
					<div class="panel-heading">
						<table style="width:100%">
							<tr>

								<td>
									<div align="left">Mornitor All</div>
								</td>
								<td>
									<!--
										<div align="Right">
											<a class="btn btn-warning btn-twitter btn-sm" onclick="Click_To_Home()">
												<i class="glyphicon glyphicon-th" ></i>
											</a>
										</div>
										-->
								</td>
							</tr>
						</table>
					</div>
					<div class="panel-body">
						<center>
							<a id="Last_Update">Last Update : -</a>
						</center>
						<br>
						<table style="width:100%;">
							<tr>
								<td>
									<table style="width:20%;">
										<tr>
											<td>
												<center>
													<div class="rectangle_Green"></div>Run
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Red"></div>Stop
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Gray"></div>Offline
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Yellow"></div>Break
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Blue"></div>Down
												</center>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						<div class="row"><div class="col-lg-4"></div><div id="Over_Flow"></div></div>
						<div id="Work_Flow" class="row"></div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Report one day-->
	<div class="container-fluid" id="Panel_Show_One">
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="panel panel-default">
					<div class="panel-heading">
						<table style="width:100%">
							<tr>
								<td>
									<div id="id_machine_one" align="left"></div>
								</td>
								<td>
									<div align="Right">
										<a class="btn btn-warning btn-twitter btn-sm" onclick="Click_To_Home()">
											<i class="glyphicon glyphicon-th"></i>
										</a>
									</div>
								</td>
							</tr>
						</table>

					</div>
					<div class="panel-body">
						<center>
							<a id="Last_Update_one">Last Update : 10:10:10</a>
							
							
							
						</center>
						<br>
						<table style="width:100%;">
							<tr>
								<td>
									<table style="width:20%;">
										<tr>
											<td>
												<center>
													<div class="rectangle_Green"></div>Run
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Red"></div>Stop
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Gray"></div>Offline
												</center>
											</td>
											<td>
												<center>
													<div class="rectangle_Yellow"></div>Break
												</center>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						<div id="Work_Flow" class="row">
							<div class="col-lg-12 col-sm-6">
								<div id="color_panel" class="card hovercard '+Color+'">
									<div class="info">
										<div class="title"><br>
											<a id="id_machine_one_Name">Name_Machine WTF</a>
										</div>
										<div class="desc">
											
										</div>
										<br>
										<table style="width:100%">
											<tr>
												<th style="width:45%"></th>
												<th style="width:10%"></th>
												<th style="width:45%"></th>
											</tr>

											<tr>
												<td align="right">Production</td>
												<td>:</td>
												<td align="left" id="Production_0ne">10000</td>
											</tr>
											<tr>
												<td align="right">Cycle Time</td>
												<td>:</td>
												<td align="left" id="Cycle_Time_0ne">10000</td>
											</tr>
											<tr>
												<td align="right">Alert</td>
												<td>:</td>
												<td align="left" id="Alert_0ne">10000</td>
											</tr>


											<tr>
												<td align="right">Mold Temp</td>
												<td>:</td>
												<td align="left" id="one_Mold_Temp">10000</td>
											</tr>
											<tr>
												<td align="right">Melting Temp</td>
												<td>:</td>
												<td align="left" id="one_Melting_Temp">10000</td>
											</tr>




											<tr>
												<td height="15"></td>
											</tr>





											<tr>
												<td align="right">Total Working Time</td>
												<td>:</td>
												<td align="left" id="one_Total_Working_Time_">No Data</td>
											</tr>

											<tr>
												<td align="right">Working Time</td>
												<td>:</td>
												<td align="left" id="one_Working_Time_">No Data</td>
											</tr>

											<tr>
												<td align="right">Stop Time</td>
												<td>:</td>
												<td align="left" id="one_Stop_Time_">No Data</td>
											</tr>

											<tr>
												<td align="right">Break Time</td>
												<td>:</td>
												<td align="left" id="one_Break_Time_">No Data</td>
											</tr>

											<tr>
												<td align="right">Alarm</td>
												<td>:</td>
												<td align="left" id="one_Alarm_">No Data</td>
											</tr>

											<tr>
												<td align="right">Offline Machine</td>
												<td>:</td>
												<td align="left" id="one_Total_Stop_Machine_">No Data</td>
											</tr>

											<tr>
												<td height="15"></td>
											</tr>





											<tr>
												<td align="right">Total Working Time</td>
												<td>:</td>
												<td align="left" id="one_Percen_Working_Time_">No Data</td>
											</tr>












										</table>
										<div class="desc"><br></div>
										<div class="desc">
											<h3 id="Jobname">Job Name</h3>
										</div>
										<div class="desc">
											<h5 id="Jobopen">NOT OPEN JOB</h5>
										</div>
									</div>
									<!--<div class="bottom">
													<a class="btn btn-primary btn-twitter btn-sm">
														<i class="glyphicon glyphicon-blackboard" ></i>
													</a>
													<a class="btn btn-danger btn-sm" rel="publisher">
														<i class="glyphicon glyphicon-time"></i>
													</a>
													<a class="btn btn-primary btn-sm" rel="publisher">
														<i class="glyphicon glyphicon-dashboard"></i>
													</a>
													<a class="btn btn-warning btn-sm" rel="publisher">
														<i class="glyphicon glyphicon-repeat"></i>
													</a>
													<a class="btn btn-danger btn-sm" rel="publisher">
														<i class="glyphicon glyphicon-list-alt"></i>
													</a>
												</div>
											-->
								</div>
							</div>




						</div>
					</div>






				</div>
			</div>






			<div class="panel-body">

				<div class="panel panel-default">
					<div class="panel-heading">

						<table style="width:100%">
							<tr>

								<td>
									<div id="" align="left">Graph Mornitor Temparature</div>
								</td>

							</tr>
						</table>

					</div>
					<div class="panel-body">

						<br>
						<table style="width:100%;" align="left">
							<tr>
								<td>
									<table style="width:100%;" border="0">
										<tr>
											<td style="width:250px;">
												<p>
												<h4 align="right">Select Time</h4>
												</p>
											</td>
											<td style="width:10px;">

											</td>
											<td style="width:80%;" align="left">
												<select id="Selectime_graph" onclick="List_Selector_time_temp()"
													class="form-control" style="width:90%">
													<option value="Select1">7.30 - 19.30</option>
													<option value="Select2">19.31 - 7.29</option>
												</select>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						<table style="width:100%" border="0">

							<tr>
								<td>
									<center>

										<div class="myFixedHeightContainer" style="width:90%">
											<canvas id="canvas"></canvas>
										</div>

										<div class="myFixedHeightContainer" style="width:90%">
											<canvas id="canvas_production_rate"></canvas>
										</div>

									</center>

								</td>
							</tr>
						</table>
						<br><br><br><br>

						<!--
								<table style="width:100%" border="1">
									<tr>
										<td >
											<center>
												<div  style="width:100%">
													<canvas id="canvas_2"></canvas>
												</div>
											</center>
										</td>
									</tr>
								</table>
								-->
						<table style="width:100%" border="0">
							<tr>
								<th style="width:48%"></th>
								<th style="width:4%"></th>
								<th style="width:48%"></th>
							</tr>

							<tr>
								<td>
									<p align="right" style="color:blue;">Total Working Time</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Runtime_Totle">0 min</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:blue;">Working Time</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Runtime">0 min</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:blue;">Stop Time</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Stoptime">0 min</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:blue;">Break Time</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Breaktime">0 min</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:blue;">Alarm</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Alarmtime">0 min</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:blue;">Offline Machine</p>
								</td>
								<td>
									<p align="center" style="color:blue;">:</p>
								</td>
								<td>
									<p align="left" style="color:blue;" id="Real_Offlinetime">0 min</p>
								</td>
							</tr>



							<tr>
								<td>
									<p align="right" style="color:red;">% Working</p>
								</td>
								<td>
									<p align="center" style="color:red;">:</p>
								</td>
								<td>
									<p align="left" style="color:red;" id="Real_RunPercen">0 %</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:red;">% Stop</p>
								</td>
								<td>
									<p align="center" style="color:red;">:</p>
								</td>
								<td>
									<p align="left" style="color:red;" id="Real_StopPercen">0 %</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:red;">% Break</p>
								</td>
								<td>
									<p align="center" style="color:red;">:</p>
								</td>
								<td>
									<p align="left" style="color:red;" id="Real_BreakPercen">0 %</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:red;">% Alarm</p>
								</td>
								<td>
									<p align="center" style="color:red;">:</p>
								</td>
								<td>
									<p align="left" style="color:red;" id="Real_AlarmPercen">0 %</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:red;">% Stop Machine</p>
								</td>
								<td>
									<p align="center" style="color:red;">:</p>
								</td>
								<td>
									<p align="left" style="color:red;" id="Real_OfflinePercen">0 %</p>
								</td>
							</tr>



							<tr>
								<td>
									<p align="right" style="color:green;">Working Time</p>
								</td>
								<td>
									<p align="center" style="color:green;">:</p>
								</td>
								<td>
									<p align="left" style="color:green;" id="Real_RunCounter">0 time</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:green;">Stop Time</p>
								</td>
								<td>
									<p align="center" style="color:green;">:</p>
								</td>
								<td>
									<p align="left" style="color:green;" id="Real_StopCounter">0 time</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:green;">Break Time</p>
								</td>
								<td>
									<p align="center" style="color:green;">:</p>
								</td>
								<td>
									<p align="left" style="color:green;" id="Real_BreakCounter">0 time</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:green;">Alarm</p>
								</td>
								<td>
									<p align="center" style="color:green;">:</p>
								</td>
								<td>
									<p align="left" style="color:green;" id="Real_AlarmCounter">0 time</p>
								</td>
							</tr>
							<tr>
								<td>
									<p align="right" style="color:green;">Offline Machine</p>
								</td>
								<td>
									<p align="center" style="color:green;">:</p>
								</td>
								<td>
									<p align="left" style="color:green;" id="Real_OfflineCounter">0 time</p>
								</td>
							</tr>

						</table>


					</div>
				</div>

			</div>
		</div>
	</div>



	<!-- Report select day-->
	<div class="container-fluid" id="Panel_Show_select_day"></div>

	<!-- Report Production Month day-->
	<div class="container-fluid" id="Panel_Show_Product_Month">
		<div class="panel panel-default">

			<div class="panel-body">

				<div class="panel panel-default">
					<div class="panel-heading">

						<table style="width:100%">
							<tr>

								<td>
									<div id="" align="left">Graph Mornitor Production</div>
								</td>
								<td>
									<div align="Right">
										<a class="btn btn-warning btn-twitter btn-sm" onclick="Click_To_Home()">
											<i class="glyphicon glyphicon-th"></i>
										</a>
									</div>
								</td>
							</tr>
						</table>

					</div>
					<div class="panel-body">

						<br>
						<table style="width:100%;" align="left">
							<tr>
								<td>
									<center>
										<table style="width:100%;" border="0">
											<tr>
												<td style="width:100px;">
													<p>
													<h4 align="right">Select Year</h4>
													</p>
												</td>
												<td style="width:10px;">

												</td>
												<td style="width:20%;" align="left">
													<center>

														<select id="select_year" onclick="function_select_Year()"
															class="form-control" style="width:90%">

														</select>


													</center>
												</td>

												<td style="width:100px;">

												</td>
											</tr>
										</table>
									</center>
								</td>
							</tr>
						</table>
						<br><br><br>
						<table style="width:100%" border="0">
							<tr>
								<td>
									<center>

										<div class="myFixedHeightContainer" style="width:90%">
											<canvas id="canvas_Production"></canvas>
										</div>

									</center>

								</td>
							</tr>
						</table>

					</div>
				</div>
			</div>

		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="myModal" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Manage Hardware</h4>
				</div>
				<div class="modal-body">
					<p>
					<h4>Manage Factory</h4>
					</p>
					<table width="100%" border="0">
						<tr>
							<th width="70%"></th>
							<th width="15%"></th>
							<th width="15%"></th>
						</tr>
						<tr>
							<td>
								<center>
									<select id="option_edit_Fac" onclick="List_Location_Edit()" class="form-control"
										style="width:90%">

									</select>
								</center>
							</td>

							<td colspan="2">
								<center>
									<button onclick="Delete_Fac_Name()" class="block_Del">Delete</button>
								</center>
							</td>
						</tr>
						<tr height="20px">
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td>
								<center>
									<input id="input_edit_Fac" type="text" name="fname" placeholder="Add Your Factory">
								</center>
							</td>
							<td>
								<button onclick="Edit_Fac_Name()" class="block_Edit">Edit</button>
							</td>
							<td colspan="2">
								<button onclick="Insert_Fac_Name()" class="block_Add">Insert</button>
							</td>
						</tr>
					</table>
				</div>


				<div class="modal-body">
					<p>
					<h4>Manage Location</h4>
					</p>
					<table width="100%" border="0">
						<tr>
							<th width="70%"></th>
							<th width="15%"></th>
							<th width="15%"></th>
						</tr>
						<tr>
							<td>
								<center>
									<select id="option_edit_Loc" onclick="List_Machine_Edit()" class="form-control"
										style="width:90%">

									</select>
								</center>
							</td>

							<td colspan="2">
								<center>
									<button id="btn_del_Loc" class="block_Del">Delete</button>
								</center>
							</td>
						</tr>
						<tr height="20px">
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td>
								<center>
									<input id="input_edit_Loc" type="text" name="fname" placeholder="Add Your Factory">
								</center>
							</td>
							<td>
								<button class="block_Edit">Edit</button>
							</td>
							<td colspan="2">
								<button class="block_Add">Insert</button>
							</td>
						</tr>
					</table>
				</div>

				<div class="modal-body">
					<p>
					<h4>Manage Type of machine</h4>
					</p>
					<table width="100%" border="0">
						<tr>
							<th width="70%"></th>
							<th width="15%"></th>
							<th width="15%"></th>
						</tr>
						<tr>
							<td>
								<center>
									<select id="option_edit_Mac" onclick="List_Hardware_Edit()" class="form-control"
										style="width:90%">

									</select>
								</center>
							</td>

							<td colspan="2">
								<center>
									<button id="btn_del_Mac" class="block_Del">Delete</button>
								</center>
							</td>
						</tr>
						<tr height="20px">
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td>
								<center>
									<input id="input_edit_Mac" type="text" name="fname" placeholder="Add Your Factory">
								</center>
							</td>
							<td>
								<button class="block_Edit">Edit</button>
							</td>
							<td colspan="2">
								<button class="block_Add">Insert</button>
							</td>
						</tr>
					</table>
				</div>

				<div class="modal-body">
					<p>
					<h4>Manage Hardware</h4>
					</p>
					<table width="100%" border="0">
						<tr>
							<th width="70%"></th>
							<th width="15%"></th>
							<th width="15%"></th>
						</tr>
						<tr>
							<td>
								<center>
									<select id="option_edit_Hw" onclick="Click_Hw_Edit()" class="form-control"
										style="width:90%">

									</select>
								</center>
							</td>

							<td colspan="2">
								<center>
									<button id="btn_del_Hw" class="block_Del">Delete</button>
								</center>
							</td>
						</tr>
						<tr height="20px">
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td>
								<center>
									<input id="input_edit_Hw" type="text" name="fname" placeholder="Add Your Factory">
								</center>
							</td>
							<td>
								<button class="block_Edit">Edit</button>
							</td>
							<td colspan="2">
								<button class="block_Add">Insert</button>
							</td>
						</tr>
					</table>
				</div>




				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal -->
	<div class="modal fade" id="myModal_Export" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Export Data</h4>
				</div>
				<div class="modal-body">
					<p>
					<h4>Select Hardware</h4>
					</p>
					<table width="100%" border="0">
						<tr>
							<th width="20%"></th>
							<th width="40%"></th>
							<th width="40%"></th>
						</tr>

						<tr>
							<td colspan="1">
								<center>
									<p>เลือกวันที่เริ่มต้น</p>
								</center>
							</td>
							<td colspan="2">
								<center>
									<input type="date" name="datePicker_ex_start" id="datePicker_ex_start">
								</center>
							</td>
						</tr>
						<tr>
							<td colspan="1">
								<center>
									<p>เลือกวันที่สิ้นสุด</p>
								</center>
							</td>
							<td colspan="2">
								<center>
									<input type="date" name="datePicker_ex_stop" id="datePicker_ex_stop">
								</center>
							</td>
						</tr>
						<tr height="20px">
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td colspan="3">
								<center>
									<select style="height: 150px;" name="Select_mc" id="Select_mc" multiple="multiple">
										<option>MC13</option>
									</select>
								</center>
							</td>

						</tr>
						<tr>

							<td colspan="3">
								<button onclick="csv_export()" class="block_Add">Export</button>
							</td>
						</tr>
					</table>
				</div>




				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>



	<!-- Modal ChartRealtime -->
	<div class="modal fade" id="ChartRealtime" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">RealTime Graph</h4>
				</div>
				<div class="modal-body">
					<center>

						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartrealtime_temp"></canvas>
						</div>

						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartrealtime_production"></canvas>
						</div>

						<div style="width:90%">
							จำนวนของ Production : <a id="NumberOfProduction_0">0</a>
						</div>

					</center>
				</div>




				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal ChartSelectDay -->
	<div class="modal fade" id="ChartSelectDay" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">กราฟรายวัน</h4>
				</div>
				<div class="modal-body">
					<center>
						<table>
							<tr>
								<th>
									<h4 style="padding-top: 10px; padding-right: 10px;">เลือกวัน</h4>
								</th>
								<th>
									<div id="datepicker" class="input-group date" data-date-format="yyyy-mm-dd">
										<input id="dateselectoroneday" onchange="resetcounter()" class="form-control" type="text" readonly />
										<span class="input-group-addon" style="display:none"></span>
									</div>
								</th>

								<th>
									<h4 style="padding-top: 10px; padding-right: 10px;padding-left: 10px;">เลือกช่วงเวลา
									</h4>
								</th>
								<th>
									<div class="btn-group" style="padding-top: 7px;">
										<button id="btncase1" type="button" onclick="selectorcase(this.id)"
											class="btn btn-default active">7.30 - 19.30</button>
										<button id="btncase2" type="button" onclick="selectorcase(this.id)"
											class="btn btn-default">19.30 - 7.00</button>
									</div>
								</th>
							</tr>
						</table>


						<hr>

						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartoneday_temp"></canvas>
						</div>

						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartoneday_production"></canvas>
						</div>

						<div style="width:90%">
							จำนวนของ Production : <a id="NumberOfProduction_1">0</a>
						</div>

					</center>
				</div>




				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="exportonedat()">Export</button>
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal ChartSelectMonth -->
	<div class="modal fade" id="ChartSelectMonth" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">กราฟรายเดือน</h4>
				</div>
				<div class="modal-body">
					<center>
						<table>
							<tr>
								<th>
									<h4 style="padding-top: 10px; padding-right: 10px;">เลือกเดือน</h4>
								</th>
								<th>
									<div id="datepicker_month" class="input-group date" data-date-format="yyyy-mm">
										<input id="dateselectormonth" class="form-control" type="text" readonly />
										<span class="input-group-addon" style="display:none"></span>
									</div>
								</th>
							</tr>
						</table>


						<hr>



						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartmonth_temp"></canvas>
						</div>

						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartmonth_production"></canvas>
						</div>

					</center>
				</div>




				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="exportmonth()">Export</button>
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal ChartSelectYear -->
	<div class="modal fade" id="ChartSelectYear" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">กราฟรายปี</h4>
				</div>
				<div class="modal-body">
					<center>
						<table>
							<tr>
								<th>
									<h4 style="padding-top: 10px; padding-right: 10px;">เลือกปี</h4>
								</th>
								<th>
									<div id="datepicker_year" class="input-group date" data-date-format="yyyy">
										<input id="dateselectoryear" class="form-control" type="text" readonly />
										<span class="input-group-addon" style="display:none"></span>
									</div>
								</th>
							</tr>
						</table>


						<hr>



						<div class="myFixedHeightContainer" style="width:90%">
							<canvas id="myChartyear_production"></canvas>
						</div>

					</center>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="exportyears()">Export</button>
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal ModalSettingProduction -->
	<div class="modal fade" id="ModalSettingProduct" role="dialog">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Setting Production</h4>
				</div>
				<div class="modal-body">
					<table style="width:100%">

						<tr>
							<th><a>Shot</a></th>
						</tr>
						<tr>
							<td><input id="ProductSetShot" type="text" style="width: 100%;" class="form-control"
									placeholder="Set Shot" aria-label="Username" aria-describedby="basic-addon1"></td>
						</tr>
						<tr style="height: 10px;">

						</tr>
						<tr>
							<th><a>Production</a></th>
						</tr>
						<tr>
							<td><input id="ProductSetProduction" type="text" style="width: 100%;" class="form-control"
									placeholder="Set Production" aria-label="Username" aria-describedby="basic-addon1">
							</td>
						</tr>

					</table>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="SaveSettingProduct()">Save</button>
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal ModalSettingTargetProduction -->
	<div class="modal fade" id="ModalSettingTargetProduction" role="dialog">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Setting Target Production</h4>
				</div>
				<div class="modal-body">
					<table style="width:100%">

						<tr>
							<th><a>Target Production</a></th>
							<!--<th><a>asdasdasd</a></th>-->
						</tr>
						<tr>
							<td><input id="settarget_prduvtion" type="text" style="width: 100%;" class="form-control"
									placeholder="Set Target Production" aria-label="Username"
									aria-describedby="basic-addon1"></td>
							<!--<td><input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1"></td>-->
						</tr>

					</table>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="SaveSettingTargetProduct()">Save</button>
					<button type="button" class="btn btn-default" data-dismiss="modal"
						onclick="closemodal()">Close</button>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	
	var Status_Login = localStorage.getItem('Status_Login')
	if (localStorage.getItem('Status_Login') == "null" || localStorage.getItem('Status_Login') == null || localStorage.getItem('Status_Login') == "") {
		//console.log("no");
		document.location.href = "index.html";
	}
	else {
		//console.log("ok");
		//document.location.href = "Mornitor.html";
	}
</script>
<script>
	
	
	var Moletemp_ = [];
	var meltemp_ = [];
	var oiltemp_ = [];
	var Time_ = [];


	var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];


	var config_chartGraphTempRealtime = {
		type: 'line',
		data: {
			labels: [],
			datasets: [{
				label: 'Mold Temp',
				backgroundColor: 'rgba(200,0,0,0.4)',
				borderColor: 'rgba(200,0,0,0.8)',
				fill: false,
				pointRadius: 1,
				data: [0
				],
			}, {
				label: 'Melting Temp',
				backgroundColor: 'rgba(0,0,200,0.4)',
				borderColor: 'rgba(0,0,200,0.8)',
				fill: false,
				pointRadius: 1,
				data: [0
				],
			}, {
				label: 'Oil Temp',
				backgroundColor: 'rgba(200,0,200,0.4)',
				borderColor: 'rgba(200,0,200,0.8)',
				fill: false,
				pointRadius: 1,
				data: [0
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Temparature'
			},
			/*
			tooltips: {
				

				callbacks: {
					label: function(tooltipItem) {
						return "Temparature : " + Number(tooltipItem.yLabel) + " °C";
					}
				}

			},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Month'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Temparature',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};
	var config_chartGraphProductionRealtime = {
		type: 'line',
		data: {
			labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
			datasets: [{
				label: 'Production',
				backgroundColor: 'rgba(119,191,69,0.4)',
				borderColor: 'rgba(119,191,69,0.8)',
				fill: true,
				pointRadius: 0,
				data: [
					10,
					20,
					10,
					12,
					30,
					14,
					25
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Production'
			},
			/*
			tooltips: {
				
				
				callbacks: {
					label: function(tooltipItem) {
						return "Production : " + Number(tooltipItem.yLabel) + " Shot";
					}
				}

			},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Time'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Production',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			},

		}
	};

	var config_chartGraphTemponeday = {
		type: 'line',
		data: {
			labels: [],
			datasets: [{
				label: 'Mold Temp',
				backgroundColor: 'rgba(200,0,0,0.4)',
				borderColor: 'rgba(200,0,0,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'Melting Temp',
				backgroundColor: 'rgba(0,0,200,0.4)',
				borderColor: 'rgba(0,0,200,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'Oil Temp',
				backgroundColor: 'rgba(200,0,200,0.4)',
				borderColor: 'rgba(200,0,200,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Temparature'
			},/*
				tooltips: {
					

					callbacks: {
						label: function(tooltipItem) {
							return "Temparature : " + Number(tooltipItem.yLabel) + " °C";
						}
					}

				},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Month'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Temparature',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};
	var config_chartGraphProductiononeday = {
		type: 'line',
		data: {
			labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
			datasets: [{
				label: 'Production',
				backgroundColor: 'rgba(119,191,69,0.4)',
				borderColor: 'rgba(119,191,69,0.8)',
				fill: true,
				pointRadius: 0,
				data: [
					10,
					20,
					10,
					12,
					30,
					14,
					25
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Production'
			},/*
				tooltips: {
					

					callbacks: {
						label: function(tooltipItem) {
							return "Production : " + Number(tooltipItem.yLabel) + " °C";
						}
					}

				},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Time'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Production',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};


	var config_chartGraphTempmonth = {
		type: 'bar',
		data: {
			labels: [],
			datasets: [{
				label: 'MeltingTemp Max',
				backgroundColor: 'rgba(255,0,0,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'MeltingTemp Min',
				backgroundColor: 'rgba(255,0,0,0.4)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			},


			{
				label: 'MoleTemp Max',
				backgroundColor: 'rgba(52,181,0,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'MoleTemp Min',
				backgroundColor: 'rgba(52,181,0,0.4)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			},


			{
				label: 'OilTemp Max',
				backgroundColor: 'rgba(0,44,181,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'OilTemp Min',
				backgroundColor: 'rgba(0,44,181,0.4)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}



			]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Temparature'
			},
			/*
			tooltips: {
				

				callbacks: {
					label: function(tooltipItem) {
						return tooltipItem.xLabel + " : " + Number(tooltipItem.yLabel) + " °C";
					}
				}

			},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Month'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Temparature',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: -100,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};
	var config_chartGraphProductionmonth = {
		type: 'bar',
		data: {
			labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
			datasets: [{
				label: 'Production',
				backgroundColor: 'rgba(119,191,69,0.9)',
				borderColor: 'rgba(119,191,69,1)',
				fill: true,
				data: [
					10,
					20,
					10,
					12,
					30,
					14,
					25
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Production'
			},
			tooltips: {


				callbacks: {
					label: function (tooltipItem) {
						return "Production : " + Number(tooltipItem.yLabel) + " pcs";
					}
				}

			},
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Time'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Production',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};
	
	var config_chartGraphTempyear = {
		type: 'bar',
		data: {
			labels: [],
			datasets: [{
				label: 'Mold Temp',
				backgroundColor: 'rgba(200,0,0,0.4)',
				borderColor: 'rgba(200,0,0,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'Melting Temp',
				backgroundColor: 'rgba(0,0,200,0.4)',
				borderColor: 'rgba(0,0,200,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}, {
				label: 'Oil Temp',
				backgroundColor: 'rgba(200,0,200,0.4)',
				borderColor: 'rgba(200,0,200,0.8)',
				fill: false,
				pointRadius: 0,
				data: [0
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Temparature'
			},/*
				tooltips: {
					

					callbacks: {
						label: function(tooltipItem) {
							return "Temparature : " + Number(tooltipItem.yLabel) + " °C";
						}
					}

				},*/
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Month'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Temparature',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};
	var config_chartGraphProductionyear = {
		type: 'bar',
		data: {
			labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
			datasets: [{
				label: 'Production',
				backgroundColor: 'rgba(200,0,0,0.4)',
				borderColor: 'rgba(200,0,0,0.8)',
				fill: true,
				data: [
					10,
					20,
					10,
					12,
					30,
					14,
					25
				],
			}]
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			showTooltips: true,

			title: {
				display: true,
				text: 'Production'
			},
			tooltips: {


				callbacks: {
					label: function (tooltipItem) {
						return "Production : " + Number(tooltipItem.yLabel) + " °C";
					}
				}

			},
			hover: {
				mode: 'label',
				intersect: false
			},
			scales: {
				xAxes: [{
					display: true,
					scaleLabel: {
						display: false,
						lineWidth: 1,
						labelString: 'Time'
					}
				}],
				yAxes: [{
					display: true,
					scaleLabel: {
						display: true,
						lineWidth: 1,
						labelString: 'Production',
						//max: 1000,
						min: 0,
						scaleBeginAtZero: true
					},
					ticks: {
						beginAtZero: true,
						min: 0,
						//max: 1000,
						stepSize: 100,
					}
				}]
			}
		}
	};




	var ctx = document.getElementById("myChartrealtime_temp").getContext("2d");
	var myLineChartRealTimeTemp = new Chart(ctx, config_chartGraphTempRealtime);

	var ctx1 = document.getElementById("myChartrealtime_production").getContext("2d");
	var myLineChartRealTimeProduct = new Chart(ctx1, config_chartGraphProductionRealtime);


	var ctx2 = document.getElementById("myChartoneday_temp").getContext("2d");
	var myLineChartonedayTemp = new Chart(ctx2, config_chartGraphTemponeday);

	var ctx3 = document.getElementById("myChartoneday_production").getContext("2d");
	var myLineChartonedayProduct = new Chart(ctx3, config_chartGraphProductiononeday);


	var ctx4 = document.getElementById("myChartmonth_temp").getContext("2d");
	var myLineChartmonthTemp = new Chart(ctx4, config_chartGraphTempmonth);

	var ctx5 = document.getElementById("myChartmonth_production").getContext("2d");
	var myLineChartmonthProduct = new Chart(ctx5, config_chartGraphProductionmonth);


	var ctx7 = document.getElementById("myChartyear_production").getContext("2d");
	var myLineChartyearProduct = new Chart(ctx7, config_chartGraphProductionyear);

</script>


<script>

	$(function () {
		$("#datepicker").datepicker({
			autoclose: true,
			todayHighlight: true
		}).datepicker('update', new Date());
	});

	$(function () {
		$("#datepicker_month").datepicker({
			autoclose: true,
			startView: "months",
			minViewMode: "months"
		}).datepicker('update', new Date());
	});

	$(function () {
		$("#datepicker_year").datepicker({
			autoclose: true,
			startView: "years",
			minViewMode: "years"
		}).datepicker('update', new Date());
	});
	
	var Current_Device = [];
	var Select_Device = [];
	var Select_Deviceold = [];
	var dataalldevice = [];
	var firstread = false;

	var Realtime = false;
	var SelectDay = false;
	var SelectMonth = false;
	var SelectYear = false;

	var SelectCase = 1;

	var firstread = false;
	var size_data = 0;

	var IDDevice_Select = "";
	var rawurl = window.location.href
	var rawurlsplit = rawurl.split('/');
	var location_true_ip = rawurlsplit[2]
	//pass
	function List_Factories(Text) {
		var sel = document.getElementById('Factories_Select');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode(Text));
		opt.value = 0;
		sel.appendChild(opt);

	}
	function First_Loop() {
		List_Factories("- No Select -");

		var sel = document.getElementById('Location_Select');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = 0;
		sel.appendChild(opt);

		var sel = document.getElementById('Machine_Select');
		
		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = 0;
		sel.appendChild(opt);


		var sel10 = document.getElementById('option_edit_Fac');
		var sel11 = document.getElementById('option_edit_Loc');
		var sel12 = document.getElementById('option_edit_Mac');
		var sel13 = document.getElementById('option_edit_Hw');

		var opt10 = document.createElement('option');
		opt10.appendChild(document.createTextNode("- No Select -"));
		opt10.value = "0";

		var opt11 = document.createElement('option');
		opt11.appendChild(document.createTextNode("- No Select -"));
		opt11.value = "0";

		var opt12 = document.createElement('option');
		opt12.appendChild(document.createTextNode("- No Select -"));
		opt12.value = "0";

		var opt13 = document.createElement('option');
		opt13.appendChild(document.createTextNode("- No Select -"));
		opt13.value = "0";

		sel10.appendChild(opt10);
		sel11.appendChild(opt11);
		sel12.appendChild(opt12);
		sel13.appendChild(opt13);

		//console.log("Status_Login --> " + Status_Login)

		fetch('php/ListFactories.php?ID_Factories=' + Status_Login)
			.then(function (response) {
				if (response.status == 200) {
					response.json().then(json => {
						//console.log(json);
						for (a = 0; a < json.length; a++) {
							var sel3 = document.getElementById('Factories_Select');
							var opt3 = document.createElement('option');
							opt3.appendChild(document.createTextNode(json[a].Name_Factories));
							opt3.value = a + 1; //json[a].id
							sel3.appendChild(opt3);

							var sel4 = document.getElementById('option_edit_Fac');
							var opt4 = document.createElement('option');
							opt4.appendChild(document.createTextNode(json[a].Name_Factories));
							opt4.value = json[a].id;
							sel4.appendChild(opt4);
						}

						if (sessionStorage.getItem("Factories_Select") != "null" && sessionStorage.getItem("Location_Select") != "null" && sessionStorage.getItem("Machine_Select") != "null" && firt_l == true) {

							var a = 1;
							var b = 1;
							var c = 1;


							var sel_Machine = document.getElementById('Machine_Select')
							var sel_location = document.getElementById('Location_Select');
							var sel_Fact = document.getElementById('Factories_Select');

							sel_Fact.selectedIndex = a;

							List_Location()
						}
					})
					return;
				} else {
					console.log('No Data');

				}
				throw new Error('Request failed.');
			})
			.then(data => {
				// Work with JSON data here
				//console.log(data)

			})
			.catch(function (error) {
				console.log(error);
			});


	}
	function List_Location() {
		var sel_Factories = document.getElementById('Factories_Select')

		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		//console.log(value_id);

		Clear_option('Location_Select');
		var sel = document.getElementById('Location_Select');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = "- No Select -";
		sel.appendChild(opt);

		Clear_option('Machine_Select');

		//Clear_option('Machine_Select');
		var sel2 = document.getElementById('Machine_Select');

		var opt2 = document.createElement('option');
		opt2.appendChild(document.createTextNode("- No Select -"));
		opt2.value = "- No Select -";
		sel2.appendChild(opt2);


		fetch('php/ListLocations.php?ID_Factories=' + value_id)
			.then(function (response) {
				if (response.status == 200) {
					response.json().then(json => {
						for (a = 0; a < json.length; a++) {
							var opt = document.createElement('option');
							opt.appendChild(document.createTextNode(json[a].Name_Location));
							opt.value = json[a].id;
							sel.appendChild(opt);
						}
						if (sessionStorage.getItem("Factories_Select") != "null" && sessionStorage.getItem("Location_Select") != "null" && sessionStorage.getItem("Machine_Select") != "null" && firt_l == true) {
							var a = 1;
							var b = 1;
							var c = 1;

							var sel_Machine = document.getElementById('Machine_Select')
							var sel_location = document.getElementById('Location_Select');
							var sel_Fact = document.getElementById('Factories_Select');

							sel_location.selectedIndex = b;

							List_Machine()
						}
					})
					return;
				} else {
					console.log('No Data');

				}
				throw new Error('Request failed.');
			})
			.then(data => {
				// Work with JSON data here
				//console.log(data)
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	function List_Machine() {
		var sel_Factories = document.getElementById('Location_Select')

		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		//console.log(value_id);

		Clear_option('Machine_Select');
		var sel = document.getElementById('Machine_Select');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = 0;
		sel.appendChild(opt);

		//console.log("Listmachinejson");
		fetch('php/ListMachine.php?ID_Location=' + value_id)
			.then(function (response) {
				if (response.status == 200) {
					response.json().then(json => {

						for (a = 0; a < json.length; a++) {
							var opt = document.createElement('option');
							opt.appendChild(document.createTextNode(json[a].Name_Machine));
							opt.value = json[a].id;
							sel.appendChild(opt);
						}

						if (sessionStorage.getItem("Factories_Select") != "null" && sessionStorage.getItem("Location_Select") != "null" && sessionStorage.getItem("Machine_Select") != "null" && firt_l == true) {
							var a = 1
							var b = 1
							var c = 1

							var sel_Machine = document.getElementById('Machine_Select')
							var sel_location = document.getElementById('Location_Select');
							var sel_Fact = document.getElementById('Factories_Select');

							sel_Machine.selectedIndex = c;
							Select_Component();
							firt_l = false;
						}
					})
					return;
				} else {
					console.log('No Data');

				}
				throw new Error('Request failed.');
			})
			.then(data => {
				// Work with JSON data here
				//console.log(data)
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	var value_id = -1;
	function Select_Component() {
		
		Current_Device = [];
		dataalldevice = [];
		var sel_Machine = document.getElementById('Machine_Select');
		var sel_location = document.getElementById('Location_Select');
		var sel_Fact = document.getElementById('Factories_Select');
		
		value_id = sel_Machine.options[sel_Machine.selectedIndex].value;
		
		sessionStorage.setItem("Factories_Select", sel_Fact.selectedIndex);
		sessionStorage.setItem("Location_Select", sel_location.selectedIndex);
		sessionStorage.setItem("Machine_Select", sel_Machine.selectedIndex);
		
		document.getElementById('Work_Flow').innerHTML = "";
		
		fetch('php/ListMachineMornitor.php?ID_Machine=' + value_id)
			.then(function (response) {
				if (response.status == 200) {
					response.json().then(json => {
						//console.log(json)
						changeMonitor();
						allMachine();
						for (a = 0; a < json.length; a++) {
							Current_Device.push(
								{
									ADDR: json[a].ADDR,
									Name_Job: json[a].Name_Job,
									Name_Machine: json[a].Name_Machine,
									id: json[a].id,
									id_machine: json[a].id_machine,
									State_Alarm: 0,
									ProductSetShot: json[a].ProductSetShot,
									ProductSetProduction: json[a].ProductSetProduction,
									settarget_prduvtion: json[a].settarget_prduvtion,
									Label_0: json[a].Label_0,
									Label_1: json[a].Label_1,
									Status_Machine:"-",
									data: {
										Realtime_rawdata: [],
										Realtime_time_All:[],
										Realtime_Process: {
											moletemp_: 0,
											meltemp_: 0,
											oiltemp_: 0
										},
									}
								}
							)
							var Array_Data = [json[a].ADDR,
								0.00,
								0.00,
							json[a].Name_Job,
							json[a].id,
							json[a].Name_Machine,
							json[a].Name_Job
							];
							Add_Machine(json[a].Name_Machine, "Gray", Array_Data);
						}
					})
					return;
				} else {
					console.log('No Data');
				}
				throw new Error('Request failed.');
			})
			.then(data => {
				// Work with JSON data here
				//console.log(data)
				//Loop_Program();
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	
	window.addEventListener("orientationchange", function() 
	{
		document.getElementById('Work_Flow').innerHTML = "";
		Select_Component();
	}
	, false);
	
	var div_oject;
	
	function allMachine()
	{
		document.getElementById('Over_Flow').innerHTML = div_oject;
	}
	
	function changeMonitor()
	{
		div_oject = (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) ? '<div class="col-lg-3 col-sm-6" id="machineChart">' +
			'<div class="card hovercard" style="background-color: #118e01;">' +
				'<div class="info" style="padding-left: 10px">' +
					'<br/>' +
					'<br/>' +
					'<div style="display: flex; column-gap: 1rem; flex-direction: row; justify-content: center; padding-top:9px;">'+
						'<div style="display: flex; row-gap: 6rem; flex-direction: column; padding-top:20px;">' +
							'<div class="fontBox">Line A</div>' +
							'<div class="fontBox">Line B</div>' +
							'<div class="fontBox">Line C</div>' +
							'<div class="fontBox">Line D</div>' +
							'<div class="fontBox">Line E</div>' +
							'<div class="fontBox">Line F</div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 1rem; flex-direction: column;">' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot1"></div><div class="dot" id="dot2"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot3"></div><div class="dot" id="dot4"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot5"></div><div class="dot" id="dot6"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot7"></div><div class="dot" id="dot8"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot9"></div><div class="dot" id="dot10"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot11"></div><div class="dot" id="dot12"></div></div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 1rem; flex-direction: column;">' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot13"></div><div class="dot" id="dot14"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot15"></div><div class="dot" id="dot16"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot17"></div><div class="dot" id="dot18"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot19"></div><div class="dot" id="dot20"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot21"></div><div class="dot" id="dot22"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot23"></div><div class="dot" id="dot24"></div></div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 6rem; flex-direction: column; padding-top:20px;">' +
							'<div class="fontBox">Line G</div>' +
							'<div class="fontBox">Line H</div>' +
							'<div class="fontBox">Line I</div>' +
							'<div class="fontBox">Line J</div>' +
							'<div class="fontBox">Line K</div>' +
							'<div class="fontBox">Line L</div>' +
						'</div>' +
					'</div>' +
					'<br/>' +
					'<br/>' +
				'</div>' +
			'</div>' +
		'</div>' : (window.matchMedia("(orientation: portrait)").matches) ? '<div class="col-lg-3 col-sm-6" id="machineChart">' +
			'<div class="card hovercard" style="background-color: #118e01;">' +
				'<div class="info" style="padding-left: 10px">' +
					'<br/>' +
					'<br/>' +
					'<div style="display: flex; column-gap: 1rem; flex-direction: row; justify-content: center; padding-top:9px;">'+
						'<div style="display: flex; row-gap: 6rem; flex-direction: column; padding-top:20px;">' +
							'<div class="fontBox">Line A</div>' +
							'<div class="fontBox">Line B</div>' +
							'<div class="fontBox">Line C</div>' +
							'<div class="fontBox">Line D</div>' +
							'<div class="fontBox">Line E</div>' +
							'<div class="fontBox">Line F</div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 1rem; flex-direction: column;">' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot1"></div><div class="dot" id="dot2"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot3"></div><div class="dot" id="dot4"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot5"></div><div class="dot" id="dot6"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot7"></div><div class="dot" id="dot8"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot9"></div><div class="dot" id="dot10"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot11"></div><div class="dot" id="dot12"></div></div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 1rem; flex-direction: column;">' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot13"></div><div class="dot" id="dot14"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot15"></div><div class="dot" id="dot16"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot17"></div><div class="dot" id="dot18"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot19"></div><div class="dot" id="dot20"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot21"></div><div class="dot" id="dot22"></div></div>' +
							'<div class="controllBox" style="width: 40px; height: 70px; display: flex; row-gap: 1rem; flex-direction: column;"><div class="dot" id="dot23"></div><div class="dot" id="dot24"></div></div>' +
						'</div>' +
						'<div style="display: flex; row-gap: 6rem; flex-direction: column; padding-top:20px;">' +
							'<div class="fontBox">Line G</div>' +
							'<div class="fontBox">Line H</div>' +
							'<div class="fontBox">Line I</div>' +
							'<div class="fontBox">Line J</div>' +
							'<div class="fontBox">Line K</div>' +
							'<div class="fontBox">Line L</div>' +
						'</div>' +
					'</div>' +
					'<br/>' +
					'<br/>' +
				'</div>' +
			'</div>' +
		'</div>' : '<div class="col-lg-3 col-sm-6" id="machineChart">' +
			'<div class="card hovercard" style="background-color: #118e01;">' +
				'<div class="info" style="padding-left: 20px; ">' +
					'<br/>' +
					'<br/>' +
					'<div style="display: flex; row-gap: 1rem; flex-direction: column; justify-content: center; padding-left:9px;">'+
						'<div style="display: flex; column-gap: 1rem; flex-direction: row; padding-top:20px;">' +
							'<div class="fontBox">Line G</div>' +
							'<div class="fontBox">Line H</div>' +
							'<div class="fontBox">Line I</div>' +
							'<div class="fontBox">Line J</div>' +
							'<div class="fontBox">Line K</div>' +
							'<div class="fontBox">Line L</div>' +
						'</div>' +
						'<div style="display: flex; column-gap: 2rem; flex-direction: row;">' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot13"></div><div class="dot" id="dot14"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot15"></div><div class="dot" id="dot16"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot17"></div><div class="dot" id="dot18"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot19"></div><div class="dot" id="dot20"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot21"></div><div class="dot" id="dot22"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot23"></div><div class="dot" id="dot24"></div></div>' +
						'</div>' +
						'<div style="display: flex; column-gap: 2rem; flex-direction: row;">' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot1"></div><div class="dot" id="dot2"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot3"></div><div class="dot" id="dot4"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot5"></div><div class="dot" id="dot6"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot7"></div><div class="dot" id="dot8"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot9"></div><div class="dot" id="dot10"></div></div>' +
							'<div class="controllBox" style="width: 70px; height: 40px; display: flex; column-gap: 1rem; flex-direction: row;"><div class="dot" id="dot11"></div><div class="dot" id="dot12"></div></div>' +
						'</div>' +
						'<div style="display: flex; column-gap: 1rem; flex-direction: row;">' +
							'<div class="fontBox">Line A</div>' +
							'<div class="fontBox">Line B</div>' +
							'<div class="fontBox">Line C</div>' +
							'<div class="fontBox">Line D</div>' +
							'<div class="fontBox">Line E</div>' +
							'<div class="fontBox">Line F</div>' +
						'</div>' +
					'</div>' +
					'<br/>' +
					'<br/>' +
				'</div>' +
			'</div>' +
		'</div>';
	}
	
	function Add_Machine(Name_id, Color, Data) {
		//console.log("Data = " + Data);
		var el = document.getElementById('Work_Flow');
		
		var Name_Job = "NOT OPEN JOB";
		if (Data[3] == "") {
			Name_Job = "NOT OPEN JOB";
		}
		else {
			Name_Job = "OPEN JOB";
		}
		var j = Data[0];
		
		var oject_div = '<div class="col-lg-3 col-sm-6">' +
			'<div id="' + j + '" class="card hovercard ' + Color + '">' +
			'<div class="info">' +
			'<div class="title"><br>' +
			'<a target="_blank" >' + Name_id + '</a>' +
			'</div>' +
			'<div class="desc"><h5 id="Lastupdate_' + Data[0] + '">Last Update : Not Update</h5></div>' +
			'<br>' +
			'<table style="width:100%">' +
			'<tr>' +
			'<th style="width:55%"></th>' +
			'<th style="width:30%"></th>' +
			'<th style="width:15%"></th>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Production</td>' +
			'<td align="left" id="Production_' + Data[0] + '" >0 shot</td>' +
			'<td align="right"><a id="ModalSettingProduct_' + Data[0] + '" onclick="ModalShowSettingProduction(this.id)" href="#">Setting</a></td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Target production</td>' +
			'<td align="left" id="ValueSettingTargetProduct_' + Data[0] + '">0 pcs</td>' +
			'<td align="right"><a id="ModalSettingTargetProduct_' + Data[0] + '" onclick="ModalSettingTargetProduction(this.id)" href="#">Setting</a></td>' +

			'</tr>' +

			'<tr>' +
			'<td align="left">Actual product</td>' +
			'<td align="left" id="Actualproduct_' + Data[0] + '">0 pcs</td>' +
			'</tr>' +


			'<tr>' +
			'<td align="left">Cycle Time</td>' +
			'<td align="left" id="CycleTime_' + Data[0] + '">0 min</td>' +
			'</tr>' +




			/*
			
														'<tr>'+
															'<td align="left">Alert</td>'+
															'<td align="left" id="Alert_'+Data[0]+'">No Data</td>'+
														'</tr>'+
			
														*/

			'<tr>' +
			'<td align="left">Melting Temp</td>' +
			'<td align="left" id="Melting_Temp_' + Data[0] + '">0 °C</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Mold Temp</td>' +
			'<td align="left"  id="Mold_Temp_' + Data[0] + '" >0 °C</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Oil Temp</td>' +
			'<td align="left"  id="Oil_Temp_' + Data[0] + '" >0 °C</td>' +
			'</tr>' +


			'<tr>' +
			'<td height="15"></td>' +
			'</tr>' +




			'<tr>' +
			'<td align="left">Total Working Time</td>' +
			'<td align="left" id="Total_Working_Time_' + Data[0] + '">0 min</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Working Time</td>' +
			'<td align="left" id="Working_Time_' + Data[0] + '">0 min</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Stop Time</td>' +
			'<td align="left" id="Stop_Time_' + Data[0] + '">0 min</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Break Time</td>' +
			'<td align="left" id="Break_Time_' + Data[0] + '">0 min</td>' +
			'</tr>' +

			'<tr>' +
			'<td align="left">Machine breakdown time</td>' +
			'<td align="left" id="Alarm_' + Data[0] + '">0 min</td>' +
			'</tr>' +
			/*
														'<tr>'+
															'<td align="left">Mold breakdown time</td>'+
															'<td align="left" id="Total_Stop_Machine_A_'+Data[0]+'">0 min</td>'+
														'</tr>'+
			*/
			'<tr>' +
			'<td align="left">Machine offline time</td>' +
			'<td align="left" id="Total_Stop_Machine_' + Data[0] + '">0 min</td>' +
			'</tr>' +
			
			
			'<tr>' +
			'<td height="15"></td>' +
			'</tr>' +
			
			
			'<tr>' +
			'<td align="left">Percen Working Time</td>' +
			'<td align="left" id="Percen_Working_Time_' + Data[0] + '">0 %</td>' +
			'</tr>' +
			
			'<tr>' +
			'<td align="left">Now Use Melting no.</td>' +
			'<td align="left" id="ShowLabelNumberMachine_' + Data[0] + '">-</td>' +
			'</tr>' +
			
			'<tr>' +
			'<td align="left" >Alarm</td>' +
			'<td align="left" id="Alarm_Oil' + Data[0] + '"></td>' +
			'</tr>' +
			
			
			'<tr>' +
			'<td height="15"></td>' +
			'</tr>' +
			
			//Status_Run_
			//Status_Stop_
			//Status_Offline_
			//Status_Break_
			//Status_StopBreakMold_
			'<tr>' +
			'<td align="left">Status Run</td>' +
			'<td align="left" id="Status_Run_' + Data[0] + '">-</td>' +
			'</tr>' +
			
			'<tr>' +
			'<td align="left">Status Stop</td>' +
			'<td align="left" id="Status_Stop_' + Data[0] + '">-</td>' +
			'</tr>' +
			'<tr>' +
			'<td align="left">Status Offline</td>' +
			'<td align="left" id="Status_Offline_' + Data[0] + '">-</td>' +
			'</tr>' +
			'<tr>' +
			'<td align="left">Status Break</td>' +
			'<td align="left" id="Status_Break_' + Data[0] + '">-</td>' +
			'</tr>' +
			'<tr>' +
			'<td align="left">Status Machine Breakdown</td>' +
			'<td align="left" id="Status_StopBreakMC_' + Data[0] + '">-</td>' +
			'</tr>' +
			/*
			'<tr>'+
				'<td align="left">Status Mold Breakdown</td>'+
				'<td align="left" id="Status_StopBreakMold_'+Data[0]+'">-</td>'+
			'</tr>'+*/
			
			
			'</table>' +
			'</div>' +
			'<div class="bottom">' +
			
			
			'<a class="btn btn-primary btn-twitter btn-sm" id="' + Data[0] + '" onclick="ModalShowMornitorRealtime(this.id)">' +
			'<i class="glyphicon glyphicon-blackboard" ></i>' +
			'</a>' +
			
			'<a> </a>' +
			'<a class="btn btn-danger btn-sm" rel="publisher" id="' + Data[0] + '" onclick="ModalShowMornitorSelectDay(this.id)">' +
			'<i class="glyphicon glyphicon-time"></i>' +
			'</a>' +
			
			'<a> </a>' +
			'<a class="btn btn-warning btn-sm" rel="publisher" id="' + Data[0] + '" onclick="ModalShowMornitorSelectMonth(this.id)">' +
			'<i class="	glyphicon glyphicon-object-align-bottom"></i>' +
			'</a>' +
			
			'<a> </a>' +
			'<a class="btn btn-info btn-sm" rel="publisher" id="' + Data[0] + '" onclick="ModalShowMornitorSelectYear(this.id)">' +
			'<i class="	glyphicon glyphicon-modal-window"></i>' +
			'</a>' +
			
			
			'</div>' +
			'</div>' +

			'</div>';
		el.innerHTML += oject_div;
	}


	$("#dateselectormonth").on("change", function () {
		//var selected = $(this).val();
		//alert(selected);
		//ModalShowMornitorSelectMonth(IDDevice_Select)
		ClearData()
		Processing_month();
	});

	$("#dateselectoryear").on("change", function () {
		//var selected = $(this).val();
		//alert(selected);
		//ModalShowMornitorSelectMonth(IDDevice_Select)
		ClearData()
		Processing_year();
	});
	/*
	$('.datepicker_month').datepicker()
	.on(picker_event, function(e) {
		// `e` here contains the extra attributes
		var componentdateselector = document.getElementById("dateselectormonth").value
		console.log(componentdateselector)
	});
	*/

	//ModalSettingTargetProduction

	function ModalShowSettingProduction(id_Machine) {
		IDDevice_Select = id_Machine.split('_')[1]
		//console.log("IDDevice_Select -> " + IDDevice_Select)
		$("#ModalSettingProduct").modal();
		for (var a = 0; a < Current_Device.length; a++) {
			console.log()
			if (Current_Device[a].ADDR == IDDevice_Select) {
				document.getElementById("ProductSetShot").value = Current_Device[a].ProductSetShot
				document.getElementById("ProductSetProduction").value = Current_Device[a].ProductSetProduction
			}
		}
	}
	function ModalSettingTargetProduction(id_Machine) {
		IDDevice_Select = id_Machine.split('_')[1]
		console.log("IDDevice_Select -> " + IDDevice_Select)
		$("#ModalSettingTargetProduction").modal();

		for (var a = 0; a < Current_Device.length; a++) {
			console.log()
			if (Current_Device[a].ADDR == IDDevice_Select) {

				document.getElementById("settarget_prduvtion").value = Current_Device[a].settarget_prduvtion
			}
		}
	}
	function ModalShowMornitorRealtime(id_Machine) {
		ClearData()
		Realtime = true;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;
		firstread = false;

		IDDevice_Select = id_Machine
		$("#ChartRealtime").modal();


	}
	function ModalShowMornitorSelectDay(id_Machine) {

		ClearData()
		Realtime = false;
		SelectDay = true;
		SelectMonth = false;
		SelectYear = false;
		firstread = false;

		IDDevice_Select = id_Machine
		$("#ChartSelectDay").modal();

		if (SelectDay == true && SelectMonth == false && SelectYear == false) {
			Processing_oneday();
		}
		else if (SelectDay == false && SelectMonth == true && SelectYear == false) {
			Processing_month();
		}
		else if (SelectDay == false && SelectMonth == false && SelectYear == true) {
			Processing_year();
		}
	}
	function ModalShowMornitorSelectMonth(id_Machine) {

		if (id_Machine == null) {

		}
		else {
			ClearData()
			Realtime = false;
			SelectDay = false;
			SelectMonth = true;
			SelectYear = false;
			firstread = false;

			IDDevice_Select = id_Machine
			$("#ChartSelectMonth").modal();

			if (SelectDay == true && SelectMonth == false && SelectYear == false) {
				Processing_oneday();
			}
			else if (SelectDay == false && SelectMonth == true && SelectYear == false) {
				Processing_month();
			}
			else if (SelectDay == false && SelectMonth == false && SelectYear == true) {
				Processing_year();
			}
		}
	}
	function ModalShowMornitorSelectYear(id_Machine) {

		ClearData()
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = true;
		firstread = false;

		IDDevice_Select = id_Machine
		$("#ChartSelectYear").modal();

		if (SelectDay == true && SelectMonth == false && SelectYear == false) {
			Processing_oneday();
		}
		else if (SelectDay == false && SelectMonth == true && SelectYear == false) {
			Processing_month();
		}
		else if (SelectDay == false && SelectMonth == false && SelectYear == true) {
			Processing_year();
		}
	}
	function closemodal() {
		IDDevice_Select = '';
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;

		ClearData()
	}
	function selectorcase(id) {
		counter_read_graph = 0;
		if (id == "btncase1") {
			document.getElementById("btncase1").className = 'btn btn-default active';
			document.getElementById("btncase2").className = 'btn btn-default';
			SelectCase = 1;
		}
		else if (id == "btncase2") {
			document.getElementById("btncase1").className = 'btn btn-default';
			document.getElementById("btncase2").className = 'btn btn-default active';
			SelectCase = 2;
		}
		//console.log(SelectCase);
	}


	function SaveSettingProduct() {

		var ProductSetShot_value = document.getElementById("ProductSetShot").value
		var ProductSetProduction_value = document.getElementById("ProductSetProduction").value

		//console.log("SaveSettingProduct")

		if (ProductSetShot_value == "" || ProductSetProduction_value == "") {
			console.log("error")
		}
		else {
			console.log("pass")

			var id_d = -1
			for (var a = 0; a < Current_Device.length; a++) {
				if (Current_Device[a].ADDR == IDDevice_Select) {

					//document.getElementById("ProductSetShot").value = Current_Device[a].ProductSetShot
					//document.getElementById("ProductSetProduction").value = Current_Device[a].ProductSetProduction

					id_d = a;
				}
			}
			if (id_d != -1) {
				Current_Device[id_d].ProductSetShot = ProductSetShot_value
				Current_Device[id_d].ProductSetProduction = ProductSetProduction_value

				fetch('php/Updatedata.php?MacMachine=' + IDDevice_Select + '&Case_=SavePrduct&Value1=' + ProductSetShot_value + '&Value2=' + ProductSetProduction_value)
					.then(function (response) {
						if (response.status == 200) {

						}
						throw new Error('Request failed.');
					})
					.then(data => {
						// Work with JSON data here
						//console.log(data)
					})
					.catch(function (error) {
						console.log(error);
					});




				Loop_Program();
			}
		}
		//ProductSetShot
		//ProductSetProduction
	}
	function SaveSettingTargetProduct() {

		var settarget_prduvtion_value = document.getElementById("settarget_prduvtion").value


		//console.log("SaveSettingTargetProduct")
		//settarget_prduvtion

		if (settarget_prduvtion_value == "") {
			console.log("error")
		}
		else {
			console.log("pass - " + IDDevice_Select)

			var id_d = -1
			for (var a = 0; a < Current_Device.length; a++) {
				if (Current_Device[a].ADDR == IDDevice_Select) {

					//document.getElementById("settarget_prduvtion_value").value = Current_Device[a].settarget_prduvtion_value

					id_d = a;
				}
			}
			console.log("id_d = " + id_d)
			if (id_d != -1) {
				Current_Device[id_d].settarget_prduvtion = settarget_prduvtion_value

				fetch('php/Updatedata.php?MacMachine=' + IDDevice_Select + '&Case_=SaveTarget&Value1=' + settarget_prduvtion_value + '&Value2=' + settarget_prduvtion_value)
					.then(function (response) {
						if (response.status == 200) {

						}
						throw new Error('Request failed.');
					})
					.then(data => {
						// Work with JSON data here
						//console.log(data)
					})
					.catch(function (error) {
						console.log(error);
					});

				Loop_Program();
			}
		}
	}











	var Finish_ListData = false;
	var global_case = 0;
	var global_date_select = null;


	function ProcessingCase() {

		var timenowuse = new Date();

		var year = timenowuse.getFullYear();
		var month = (timenowuse.getMonth() + 1).toString().padStart(2, "0");
		var day = timenowuse.getDate().toString().padStart(2, "0");

		var Datestr = year + "-" + month + "-" + day;

		var case1 = new Date(Datestr + "T07:30:00.000+07:00");

		//console.log(Datestr);
		//console.log(case1);

		var del = timenowuse - case1;

		var days = Math.floor(del / (1000 * 60 * 60 * 24));
		var hours = Math.floor((del % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes = Math.floor((del % (1000 * 60 * 60)) / (1000 * 60));
		var seconds = Math.floor((del % (1000 * 60)) / 1000);

		var secondcount = (hours * 60 * 60) + (minutes * 60) + seconds

		if (secondcount < 0) {
			case1 = new Date(Datestr + "T07:30:00.000+07:00");

			var del = case1 - timenowuse;

			var days = Math.floor(del / (1000 * 60 * 60 * 24));
			var hours = Math.floor((del % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((del % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((del % (1000 * 60)) / 1000);

			secondcount = (27000 - ((hours * 60 * 60) + (minutes * 60) + seconds)) + 59400
		}

		//console.log(secondcount);


		if (secondcount >= 0 && secondcount <= 43199) {//case 7:30:00 - 19:29:59
			//console.log('http://' + location_true_ip + '/BackendWeb/Toyo_Densanphp/ListDataDB.php?MacMachine=' + IDDevice_Select);


			//IDDevice_Select
			//console.log("case 1");
			ProcessingAllComponent(1, Datestr);
			
		}
		else {//case 19:30:00 - 07:29:59
			//console.log("case 2");

			var timenowuse_2 = new Date();

			timenowuse_2.setDate(timenowuse_2.getDate());

			//timenowuse_2.getDate()

			var year_2 = timenowuse_2.getFullYear();
			var month_2 = (timenowuse_2.getMonth() + 1).toString().padStart(2, "0");
			var day_2 = timenowuse_2.getDate().toString().padStart(2, "0");

			var Datestr_2 = year_2 + "-" + month_2 + "-" + day_2;


			if (timenowuse_2.getHours() <= 8) {

				timenowuse_2.setDate(timenowuse_2.getDate() - 1);
				year_2 = timenowuse_2.getFullYear();
				month_2 = (timenowuse_2.getMonth() + 1).toString().padStart(2, "0");
				day_2 = timenowuse_2.getDate().toString().padStart(2, "0");

				Datestr_2 = year_2 + "-" + month_2 + "-" + day_2;
			}
			//console.log(Datestr_2)


			ProcessingAllComponent(2, Datestr_2);
			//global_date_select = Datestr;
		}
	}




	var CountDevice = 0;

	function ProcessingAllComponent(case_, Date_) {
		global_case = case_;
		global_date_select = Date_;
		
		if (case_ == 1) {
			fetch('php/ListDataDB.php?MacMachine=' + Current_Device[CountDevice].ADDR + '&Date_=' + Date_ + '&case_=' + case_)
				.then(function (response) {
					//
					if (response.status == 200) {
						response.json().then(json => {
							dataalldevice = json
							
							if (dataalldevice.length != 0) {
								if(Current_Device[CountDevice].ADDR == dataalldevice[0].id_hardware){
									Current_Device[CountDevice].data.Realtime_rawdata = dataalldevice
									if (dataalldevice.length != 0) {
										Current_Device[CountDevice].data.Realtime_Process.meltemp_ = Current_Device[CountDevice].data.Realtime_rawdata[Current_Device[CountDevice].data.Realtime_rawdata.length - 1].Melting_Temp
										Current_Device[CountDevice].data.Realtime_Process.moletemp_ = Current_Device[CountDevice].data.Realtime_rawdata[Current_Device[CountDevice].data.Realtime_rawdata.length - 1].Mold_Temp
										Current_Device[CountDevice].data.Realtime_Process.oiltemp_ = Current_Device[CountDevice].data.Realtime_rawdata[Current_Device[CountDevice].data.Realtime_rawdata.length - 1].Oil_Temp
										Finish_ListData = true;
										//GUI_Set(1,Date_);
									}
								}
							}
							if (CountDevice == Current_Device.length - 1) {
								CountDevice = 0;
							}
							else {
								CountDevice++;
							}
							//console.log(CountDevice + " : " + Current_Device[CountDevice].ADDR)
							//console.log(Current_Device)
							
						})

						return dataalldevice;
					} else {
						console.log('No Data');
					}
					throw new Error('Request failed.');
				})
				.then(data => {

				})
				.catch(function (error) {
					console.log(error);
				});

		}
		else if (case_ == 2) {

			fetch('php/ListDataDB.php?MacMachine=' + Current_Device[CountDevice].ADDR + '&Date_=' + Date_ + '&case_=' + case_)
				.then(function (response) {
					//console.log(device)
					if (response.status == 200) {
						response.json().then(json => {
							dataalldevice = json
							//console.log(json)

							for(var jj = 0 ; jj < Current_Device.length ; jj++){
								if(Current_Device[CountDevice].ADDR == Current_Device[jj].ADDR){
									Current_Device[jj].data.Realtime_rawdata = dataalldevice
									if (dataalldevice.length != 0) {
										Current_Device[jj].data.Realtime_Process.meltemp_ = Current_Device[jj].data.Realtime_rawdata[Current_Device[jj].data.Realtime_rawdata.length - 1].Melting_Temp
										Current_Device[jj].data.Realtime_Process.moletemp_ = Current_Device[jj].data.Realtime_rawdata[Current_Device[jj].data.Realtime_rawdata.length - 1].Mold_Temp
										Current_Device[jj].data.Realtime_Process.oiltemp_ = Current_Device[jj].data.Realtime_rawdata[Current_Device[jj].data.Realtime_rawdata.length - 1].Oil_Temp
										Finish_ListData = true;
										//GUI_Set(1,Date_);
									}
								}
							}

							if (CountDevice == Current_Device.length - 1) {
								CountDevice = 0;
							}
							else {
								CountDevice++;
							}

						})

						return dataalldevice;
					} else {
						console.log('No Data');
					}
					throw new Error('Request failed.');
				})
				.then(data => {

				})
				.catch(function (error) {
					console.log(error);
				});
		}
	}

	function GUI_Set(Case, Date_) {

		//console.log(Finish_ListData);
		if (Finish_ListData) {
/*
			console.log("Show data");
			console.log("Case --> " + String(Case));
			console.log("Date_ --> " + String(Date_));
			console.log("Current_Device.length --> " + String(Current_Device.length));
			console.log(Current_Device);*/
			console.log(Current_Device);
			
			for (var Num = 0; Num < Current_Device.length; Num++) {

				if (Case == 1) {
					var countDownDate = new Date(Date_ + "T07:30:00.000+07:00").getTime();
					var now = new Date().getTime();
					var distance = now - countDownDate;
					var days = Math.floor(distance / (1000 * 60 * 60 * 24));
					var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
					var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
					var seconds = Math.floor((distance % (1000 * 60)) / 1000);
					var minutes = (hours * 60) + minutes
					document.getElementById("Total_Working_Time_" + Current_Device[Num].ADDR).innerText = minutes + " min"
				}
				else if (Case == 2) {
					var countDownDate = new Date(Date_ + "T19:30:00.000+07:00").getTime();
					var now = new Date().getTime();
					var distance = now - countDownDate;

					var days = Math.floor(distance / (1000 * 60 * 60 * 24));
					var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
					var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
					var seconds = Math.floor((distance % (1000 * 60)) / 1000);
					var minutes = (hours * 60) + minutes
					document.getElementById("Total_Working_Time_" + Current_Device[Num].ADDR).innerText = minutes + " min"
				}

				

				if (!isNaN(parseFloat(Current_Device[Num].data.Realtime_Process.meltemp_))) {
					document.getElementById("Melting_Temp_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_Process.meltemp_ + " °C"
				}

				if (!isNaN(parseFloat(Current_Device[Num].data.Realtime_Process.moletemp_))) {
					document.getElementById("Mold_Temp_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_Process.moletemp_ + " °C"
				}

				if (!isNaN(parseFloat(Current_Device[Num].data.Realtime_Process.oiltemp_))) {
					document.getElementById("Oil_Temp_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_Process.oiltemp_ + " °C"
				}

				document.getElementById("ValueSettingTargetProduct_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].settarget_prduvtion + " pcs"

				

				try {
					//console.log("Num --> " + String(Num) + " : " + Current_Device[Num].ADDR);

					if(Current_Device[Num].data.Realtime_rawdata.length > 0){
						//console.log("Lastupdate_" + Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].Time_);

						document.getElementById("Lastupdate_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].Time_
						document.getElementById("Last_Update").innerText = "Last Update : " + Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].Time_
					


						if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Mold_Break_ == "0") {
							document.getElementById("ShowLabelNumberMachine_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].Label_0
						}
						else if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Mold_Break_ == "1") {
							document.getElementById("ShowLabelNumberMachine_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].Label_1
						}

						
					
						//console.log(Current_Device[Num])
						if (parseFloat(Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].Oil_Temp) >= 60) {
							if (Current_Device[Num].State_Alarm == 0) {
								document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).innerText = ""
								document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).style.display = "none"
								Current_Device[Num].State_Alarm = 1;
							}
							else if (Current_Device[Num].State_Alarm == 1) {
								document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).innerText = "Alert Oil Temp!"
								document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).style.display = "block"
								Current_Device[Num].State_Alarm = 0;
							}

						}
						else {
							document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).innerText = ""
							document.getElementById("Alarm_Oil" + Current_Device[Num].ADDR).style.display = "None"
							Current_Device[Num].State_Alarm = 0;
						}
					}
					

						if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Run_ == "1") {
							document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Green";
						}
						else if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Stop_ == "1") {
							document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Red";
						}
						else if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Offline_ == "1") {
							document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Gray";
						}
						else if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Break_ == "1") {
							document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Yellow";
						}

						else if (Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_MC_Break_ == "1") {
							document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Blue";
						}
						else {
							var last_lastdata = 0;
							var data_kk = []
							for (var j = 0; j < Current_Device[Num].data.Realtime_rawdata.length; j++) {
								if (Current_Device[Num].data.Realtime_rawdata[j].State_value == "1") {
									data_kk.push(Current_Device[Num].data.Realtime_rawdata[j])
								}
							}
							for (var j = 0; j < data_kk.length - 1; j++) {
								if (data_kk[j].MC_Run_ == "1") {
									last_lastdata = 1;
								}
								else {
									last_lastdata = 0;
								}
							}

							if (last_lastdata == 1) {
								document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Green";
							}
						}
						
					
					
					//console.log("-> 4")
					var StopMin = 0;
					var OfflinepMin = 0;
					var BreakMin = 0;
					var BreakMoldMin = 0;
					var BreakMCMin = 0;

					try {
						StopMin = Processing_StopTime(Current_Device[Num].ADDR, Current_Device[Num].data.Realtime_rawdata, Case, Date_);
					}
					catch {

					}

					try {
						OfflinepMin = Processing_OfflineTime(Current_Device[Num].ADDR, Current_Device[Num].data.Realtime_rawdata, Case, Date_);
					}
					catch {

					}

					try {
						BreakMin = Processing_BreakTime(Current_Device[Num].ADDR, Current_Device[Num].data.Realtime_rawdata, Case, Date_);
					}
					catch {

					}

					try {
						BreakMoldMin = Processing_BreakMoldTime(Current_Device[Num].ADDR, Current_Device[Num].data.Realtime_rawdata, Case, Date_);
					}
					catch {

					}

					try {
						BreakMCMin = Processing_BreakMCTime(Current_Device[Num].ADDR, Current_Device[Num].data.Realtime_rawdata, Case, Date_);
					}
					catch {

					}

					var sumourtime = StopMin + OfflinepMin + BreakMin + BreakMoldMin + BreakMCMin
					var Runtime = 0
					if (Case == 1) {
						var countDownDate = new Date(Date_ + "T07:30:00.000+07:00").getTime();

						var now = new Date().getTime();
						var distance = now - countDownDate;
						Runtime = distance - sumourtime;
						var PercenWorkingTime = (Runtime / (distance - BreakMin)) * 100
						if (PercenWorkingTime <= 0) {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = "0 %"
						}

						if (!isNaN(PercenWorkingTime)) {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = PercenWorkingTime.toFixed(2) + " %"
						}
						else {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = "0 %"
						}
					}
					else if (Case == 2) {
						var countDownDate = new Date(Date_ + "T19:30:00.000+07:00").getTime();
						var now = new Date().getTime();
						var distance = now - countDownDate;
						Runtime = distance - sumourtime;
						var PercenWorkingTime = (Runtime / (distance - BreakMin)) * 100

						if (PercenWorkingTime <= 0) {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = "0 %"
						}
						if (!isNaN(PercenWorkingTime)) {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = PercenWorkingTime.toFixed(2) + " %"
						}
						else {
							document.getElementById("Percen_Working_Time_" + Current_Device[Num].ADDR).innerText = "0 %"
						}
					}


					var data_filter_2 = []
					for (var a = 0; a < Current_Device[Num].data.Realtime_rawdata.length; a++) {
						data_filter_2.push(Current_Device[Num].data.Realtime_rawdata[a]);
					}
					var time_exit_run = 0;
					
					Processing_WorkingTime_New(Current_Device[Num].ADDR, Runtime - time_exit_run)
					
					document.getElementById("Status_Run_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Run_;
					document.getElementById("Status_Stop_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Stop_;
					document.getElementById("Status_Offline_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Offline_;
					document.getElementById("Status_Break_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_Break_;
					document.getElementById("Status_StopBreakMC_" + Current_Device[Num].ADDR).innerText = Current_Device[Num].data.Realtime_rawdata[Current_Device[Num].data.Realtime_rawdata.length - 1].MC_MC_Break_;
					
					var ShotShow = 0;
					for (var list = 0; list < Current_Device[Num].data.Realtime_rawdata.length; list++) {
						if (Current_Device[Num].data.Realtime_rawdata[list].State_value == "1") {
							if (Current_Device[Num].data.Realtime_rawdata[list].MC_Run_ == "1") {
								ShotShow += 1
							}
						}
					}
					
					document.getElementById("Production_" + Current_Device[Num].ADDR).innerText = ShotShow + " Shot"

					if (Current_Device[Num].ProductSetShot > Current_Device[Num].ProductSetProduction) {
						var aaa = parseFloat(ShotShow) / parseFloat(Current_Device[Num].ProductSetShot)
						console.log(ShotShow + " : " + Current_Device[Num].ProductSetShot)
						document.getElementById("Actualproduct_" + Current_Device[Num].ADDR).innerText = aaa + " pcs"
					}
					else if (Current_Device[Num].ProductSetShot < Current_Device[Num].ProductSetProduction) {
						var aaa = parseFloat(Current_Device[Num].ProductSetProduction) * parseFloat(ShotShow)
						document.getElementById("Actualproduct_" + Current_Device[Num].ADDR).innerText = aaa + " pcs"
					}
					else {
						var aaa = parseFloat(ShotShow);
						document.getElementById("Actualproduct_" + Current_Device[Num].ADDR).innerText = aaa + " pcs"
					}

					//*******************************************************************//

					var run_cycletime = []
					var last_run = 0;
					for (var ff = 0; ff < data_filter_2.length; ff++) {
						if (data_filter_2[ff].MC_Run_ == "1") {
							last_run = data_filter_2[ff].Time_
							run_cycletime.push(data_filter_2[ff])
						}
					}

					if (run_cycletime.length > 1) {

						var str1 = run_cycletime[run_cycletime.length - 1].Time_.split(' ')[0] + "T" + run_cycletime[run_cycletime.length - 1].Time_.split(' ')[1] + ".000+07:00"
						var t = new Date(str1).getTime();
						var str2 = run_cycletime[run_cycletime.length - 2].Time_.split(' ')[0] + "T" + run_cycletime[run_cycletime.length - 2].Time_.split(' ')[1] + ".000+07:00"
						var t_realtime = new Date(str2).getTime();
						var distance = t - t_realtime;

						var days = Math.floor(distance / (1000 * 60 * 60 * 24));
						var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
						var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
						var seconds = Math.floor((distance % (1000 * 60)) / 1000);
						var Showtime = minutes + "." + seconds
						var time_ = (hours * 60) + (minutes)

						if (distance <= 0) {
							time_ = 0;
							if (minutes <= 2) {
							}
							else {
								document.getElementById("CycleTime_" + Current_Device[Num].ADDR).innerText = Showtime + " min"
							}
						}
						else {

							if (minutes <= 2) {
							}
							else {
								document.getElementById("CycleTime_" + Current_Device[Num].ADDR).innerText = Showtime + " min"
							}
						}
					}
					else {
						document.getElementById("CycleTime_" + Current_Device[Num].ADDR).innerText = "0 min"
					}
				}
				catch {

					document.getElementById("Production_" + Current_Device[Num].ADDR).innerText = "0 Shot"

					document.getElementById(Current_Device[Num].ADDR).className = "card hovercard Gray";

					document.getElementById("Status_Run_" + Current_Device[Num].ADDR).innerText = "-"
					document.getElementById("Status_Stop_" + Current_Device[Num].ADDR).innerText = "-"
					document.getElementById("Status_Offline_" + Current_Device[Num].ADDR).innerText = "-"
					document.getElementById("Status_Break_" + Current_Device[Num].ADDR).innerText = "-"
					document.getElementById("Status_StopBreakMC_" + Current_Device[Num].ADDR).innerText = "-";

				}
			}
		}

		Finish_ListData = false;


		return true
	}

	function Processing_WorkingTime_New(Addr, data) {
		var distance = data;
		var days = Math.floor(distance / (1000 * 60 * 60 * 24));
		var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
		var seconds = Math.floor((distance % (1000 * 60)) / 1000);

		var time_ = (hours * 60) + (minutes)
		if (distance >= 0) {
			document.getElementById("Working_Time_" + Addr).innerText = time_ + " min"
		}
		return true
	}
	function Processing_StopTime(Addr, data, Case, Date_) {

		var now = new Date()

		var starttime;
		var hour_Now = now.getHours();
		var Min_Now = now.getMinutes();
		var Sec_Now = now.getSeconds();
		var Year_Now = now.getFullYear();
		var Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
		var Day_Now = ("0" + (now.getDate())).slice(-2)

		var fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now

		//console.log("-> 4.1")

		if (hour_Now <= 7) {
			if (hour_Now == 7 && Min_Now < 30) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 7 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now < 7) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now <= 19) {
			if (hour_Now == 19 && Min_Now < 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 19 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now > 7 && hour_Now < 19) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now > 19) {
			starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
		}

		//console.log(" starttime -> " + starttime)

		var endtime;
		var data_filter_1 = []

		for (var a = 0; a < data.length; a++) {
			if (data[a].State_value == "1") {
				data_filter_1.push(data[a]);
			}
		}
		//console.log("-> 4.3")

		var timerun_ = 0;
		var timerun_a = 0;
		var case_backup = 0;
		var distance = 0;
		var distance22 = 0


		//console.log(" data_filter_1.length -> " + data_filter_1.length)

		if (data_filter_1.length == 0) {

			//console.log("-> 4.3.1")
			if (data[data.length - 1].MC_Stop_ == "1") {
				endtime = new Date().getTime();
				distance = endtime - starttime;

				var days = Math.floor(distance / (1000 * 60 * 60 * 24));
				var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
				var seconds = Math.floor((distance % (1000 * 60)) / 1000);

				var time_ = (hours * 60) + (minutes)
				if (!isNaN(time_)) {
					document.getElementById("Stop_Time_" + Addr).innerText = String(time_) + " min"
				}
				else {
					document.getElementById("Stop_Time_" + Addr).innerText = "0 min"
				}
			}
			else {
				distance = 0
			}

		}
		else {

			//console.log("-> 4.3.2")
			var EN_Stop_First = false;
			var first_End = 0;
			//console.log("now " + now.getDay())

			if (now.getDay() != 1) {
				//const birthday = new Date();
				for (var a = 0; a < data_filter_1.length; a++) {
					if (data_filter_1[a].MC_Stop_ == "0") {
						var StateStop = "";
						for (var b = 0; b < data.length; b++) {
							if (data[b].id == data_filter_1[a].id) {
								StateStop = data[b - 1].MC_Stop_;
							}
						}
						if (StateStop == "1") {
							var str = data_filter_1[a].Time_.split(' ')[0] + "T" + data_filter_1[a].Time_.split(' ')[1] + ".000+07:00";
							first_End = new Date(str).getTime();
							EN_Stop_First = true;
						}
						break;
					}
				}
			}



			for (var b = 0; b < data_filter_1.length; b++) {


				if (data_filter_1[b].MC_Stop_ == "1") {
					var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
					timerun_a = new Date(str).getTime();
					case_backup = 1

					//console.log(str + " " + data_filter_1[b].MC_Stop_)
				}
				else if (data_filter_1[b].MC_Stop_ == "0") {
					if (case_backup == 1) {
						var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
						var t = new Date(str).getTime();
						var t2 = t - timerun_a
						timerun_ += t2;
						//console.log(str + " " + data_filter_1[b].MC_Stop_)
					}
					case_backup = 0;
				}
			}

			//console.log(" timerun_a -> " + timerun_a)


			var distance2 = 0;
			if (case_backup) {
				distance2 = new Date().getTime() - timerun_a
			}


			var distance1 = first_End - starttime;



			if (!EN_Stop_First) {
				distance1 = 0;
			}
			/*
							console.log(" distance1 -> " + distance1)
							console.log(" distance2 -> " + distance2)
			
							console.log(" first_End -> " + first_End)
							console.log(" starttime -> " + starttime)
			*/
			var distance = distance1 + timerun_ + distance2

			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			var time_ = (hours * 60) + (minutes)
			if (!isNaN(time_)) {
				document.getElementById("Stop_Time_" + Addr).innerText = String(time_) + " min"
			}
			else {
				document.getElementById("Stop_Time_" + Addr).innerText = "0 min"
				distance = 0
			}
		}

		return distance;
	}
	function Processing_OfflineTime(Addr, data, Case, Date_) {
		var now = new Date()

		var starttime;
		var hour_Now = now.getHours();
		var Min_Now = now.getMinutes();
		var Sec_Now = now.getSeconds();
		var Year_Now = now.getFullYear();
		var Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
		var Day_Now = ("0" + (now.getDate())).slice(-2)

		var fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now

		if (hour_Now <= 7) {
			if (hour_Now == 7 && Min_Now < 30) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 7 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now < 7) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now <= 19) {
			if (hour_Now == 19 && Min_Now < 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 19 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now > 7 && hour_Now < 19) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now > 19) {
			starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
		}

		var endtime;

		var data_filter_1 = []
		for (var a = 0; a < data.length; a++) {
			if (data[a].State_value == "1") {
				data_filter_1.push(data[a]);
			}
		}

		var timerun_ = 0;
		var timerun_a = 0;

		var case_backup = 0;
		var distance = 0;
		var distance22 = 0

		if (data_filter_1.length == 0) {
			if (data[data.length - 1].MC_Offline_ == "1") {
				endtime = new Date().getTime();
				distance = endtime - starttime;

				var days = Math.floor(distance / (1000 * 60 * 60 * 24));
				var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
				var seconds = Math.floor((distance % (1000 * 60)) / 1000);

				var time_ = (hours * 60) + (minutes)
				if (!isNaN(time_)) {
					document.getElementById("Total_Stop_Machine_" + Addr).innerText = String(time_) + " min"
				}
				else {
					document.getElementById("Total_Stop_Machine_" + Addr).innerText = "0 min"
				}
			}
			else {
				distance = 0
			}
		}
		else {

			var EN_Stop_First = false;
			var first_End = 0;
			for (var a = 0; a < data_filter_1.length; a++) {
				if (data_filter_1[a].MC_Offline_ == "0") {
					var StateStop = "";
					for (var b = 0; b < data.length; b++) {
						if (data[b].id == data_filter_1[a].id) {
							StateStop = data[b - 1].MC_Offline_;
						}
					}
					if (StateStop == "1") {
						var str = data_filter_1[a].Time_.split(' ')[0] + "T" + data_filter_1[a].Time_.split(' ')[1] + ".000+07:00";
						first_End = new Date(str).getTime();
						EN_Stop_First = true;
					}
					break;
				}
			}

			for (var b = 0; b < data_filter_1.length; b++) {
				if (data_filter_1[b].MC_Offline_ == "1") {
					var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
					timerun_a = new Date(str).getTime();
					case_backup = 1
				}
				else if (data_filter_1[b].MC_Offline_ == "0") {
					if (case_backup == 1) {
						var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
						var t = new Date(str).getTime();
						var t2 = t - timerun_a
						timerun_ += t2;
					}
					case_backup = 0;
				}
			}
			var distance2 = 0;
			if (case_backup) {
				distance2 = new Date().getTime() - timerun_a
			}

			var distance1 = first_End - starttime;

			if (!EN_Stop_First) {
				distance1 = 0;
			}

			var distance = distance1 + timerun_ + distance2

			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			var time_ = (hours * 60) + (minutes)
			if (!isNaN(time_)) {
				document.getElementById("Total_Stop_Machine_" + Addr).innerText = String(time_) + " min"
			}
			else {
				document.getElementById("Total_Stop_Machine_" + Addr).innerText = "0 min"
				distance = 0
			}
		}

		return distance;
	}
	function Processing_BreakTime(Addr, data, Case, Date_) {
		var now = new Date()

		var starttime;
		var hour_Now = now.getHours();
		var Min_Now = now.getMinutes();
		var Sec_Now = now.getSeconds();
		var Year_Now = now.getFullYear();
		var Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
		var Day_Now = ("0" + (now.getDate())).slice(-2)

		var fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now

		if (hour_Now <= 7) {
			if (hour_Now == 7 && Min_Now < 30) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 7 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now < 7) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now <= 19) {
			if (hour_Now == 19 && Min_Now < 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 19 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now > 7 && hour_Now < 19) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now > 19) {
			starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
		}

		var endtime;

		var data_filter_1 = []
		for (var a = 0; a < data.length; a++) {
			if (data[a].State_value == "1") {
				data_filter_1.push(data[a]);
			}
		}

		var timerun_ = 0;
		var timerun_a = 0;

		var case_backup = 0;
		var distance = 0;
		var distance22 = 0

		if (data_filter_1.length == 0) {
			if (data[data.length - 1].MC_Break_ == "1") {
				endtime = new Date().getTime();
				distance = endtime - starttime;

				var days = Math.floor(distance / (1000 * 60 * 60 * 24));
				var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
				var seconds = Math.floor((distance % (1000 * 60)) / 1000);

				var time_ = (hours * 60) + (minutes)
				if (!isNaN(time_)) {
					document.getElementById("Break_Time_" + Addr).innerText = String(time_) + " min"
				}
				else {
					document.getElementById("Break_Time_" + Addr).innerText = "0 min"
				}
			}
			else {
				distance = 0
			}
		}
		else {

			var EN_Stop_First = false;
			var first_End = 0;
			for (var a = 0; a < data_filter_1.length; a++) {
				if (data_filter_1[a].MC_Break_ == "0") {
					var StateStop = "";
					for (var b = 0; b < data.length; b++) {
						if (data[b].id == data_filter_1[a].id) {
							StateStop = data[b - 1].MC_Break_;
						}
					}
					if (StateStop == "1") {
						var str = data_filter_1[a].Time_.split(' ')[0] + "T" + data_filter_1[a].Time_.split(' ')[1] + ".000+07:00";
						first_End = new Date(str).getTime();
						EN_Stop_First = true;
					}
					break;
				}
			}

			for (var b = 0; b < data_filter_1.length; b++) {
				if (data_filter_1[b].MC_Break_ == "1") {
					var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
					timerun_a = new Date(str).getTime();
					case_backup = 1
				}
				else if (data_filter_1[b].MC_Break_ == "0") {
					if (case_backup == 1) {
						var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
						var t = new Date(str).getTime();
						var t2 = t - timerun_a
						timerun_ += t2;
					}
					case_backup = 0;
				}
			}
			var distance2 = 0;
			if (case_backup) {
				distance2 = new Date().getTime() - timerun_a
			}

			var distance1 = first_End - starttime;

			if (!EN_Stop_First) {
				distance1 = 0;
			}

			var distance = distance1 + timerun_ + distance2

			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			var time_ = (hours * 60) + (minutes)
			if (!isNaN(time_)) {
				document.getElementById("Break_Time_" + Addr).innerText = String(time_) + " min"
			}
			else {
				document.getElementById("Break_Time_" + Addr).innerText = "0 min"
			}
		}

		return distance;
	}
	function Processing_BreakMoldTime(Addr, data, Case, Date_) {
		var now = new Date()

		var starttime;
		var hour_Now = now.getHours();
		var Min_Now = now.getMinutes();
		var Sec_Now = now.getSeconds();
		var Year_Now = now.getFullYear();
		var Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
		var Day_Now = ("0" + (now.getDate())).slice(-2)

		var fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now

		if (hour_Now <= 7) {
			if (hour_Now == 7 && Min_Now < 30) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 7 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now < 7) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now <= 19) {
			if (hour_Now == 19 && Min_Now < 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 19 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now > 7 && hour_Now < 19) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now > 19) {
			starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
		}

		var endtime;

		var data_filter_1 = []
		for (var a = 0; a < data.length; a++) {
			if (data[a].State_value == "1") {
				data_filter_1.push(data[a]);
			}
		}

		var timerun_ = 0;
		var timerun_a = 0;

		var case_backup = 0;
		var distance = 0;
		var distance22 = 0

		if (data_filter_1.length == 0) {
			if (data[data.length - 1].MC_Mold_Break_ == "1") {
				endtime = new Date().getTime();
				distance = endtime - starttime;

				var days = Math.floor(distance / (1000 * 60 * 60 * 24));
				var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
				var seconds = Math.floor((distance % (1000 * 60)) / 1000);

				var time_ = (hours * 60) + (minutes)
				if (!isNaN(time_)) {
					//document.getElementById("Total_Stop_Machine_A_" + Addr).innerText = String(time_) + " min"
				}
				else {
					//document.getElementById("Total_Stop_Machine_A_" + Addr).innerText = "0 min"
				}
			}
			else {
				distance = 0
			}
		}
		else {

			var EN_Stop_First = false;
			var first_End = 0;
			for (var a = 0; a < data_filter_1.length; a++) {
				if (data_filter_1[a].MC_Mold_Break_ == "0") {
					var StateStop = "";
					for (var b = 0; b < data.length; b++) {
						if (data[b].id == data_filter_1[a].id) {
							StateStop = data[b - 1].MC_Mold_Break_;
						}
					}
					if (StateStop == "1") {
						var str = data_filter_1[a].Time_.split(' ')[0] + "T" + data_filter_1[a].Time_.split(' ')[1] + ".000+07:00";
						first_End = new Date(str).getTime();
						EN_Stop_First = true;
					}
					break;
				}
			}
			//console.log(data_filter_1)

			for (var b = 0; b < data_filter_1.length; b++) {
				if (data_filter_1[b].MC_Mold_Break_ == "1") {
					var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
					timerun_a = new Date(str).getTime();
					case_backup = 1
				}
				else if (data_filter_1[b].MC_Mold_Break_ == "0") {
					if (case_backup == 1) {
						var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
						var t = new Date(str).getTime();
						var t2 = t - timerun_a
						timerun_ += t2;
					}
					case_backup = 0;
				}
			}

			var distance2 = null;
			if (case_backup) {
				var now = new Date().getTime()
				distance2 = now - timerun_a
			}

			var distance1 = first_End - starttime;

			if (!EN_Stop_First) {
				distance1 = 0;
			}

			var distance = distance1 + timerun_ + distance2

			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			var time_ = (hours * 60) + (minutes)
			if (!isNaN(time_)) {
				//document.getElementById("Total_Stop_Machine_A_" + Addr).innerText = String(time_) + " min"
			}
			else {
				//document.getElementById("Total_Stop_Machine_A_" + Addr).innerText = "0 min"
			}
		}

		return distance;
	}
	function Processing_BreakMCTime(Addr, data, Case, Date_) {
		var now = new Date()

		var starttime;
		var hour_Now = now.getHours();
		var Min_Now = now.getMinutes();
		var Sec_Now = now.getSeconds();
		var Year_Now = now.getFullYear();
		var Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
		var Day_Now = ("0" + (now.getDate())).slice(-2)

		var fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now

		if (hour_Now <= 7) {
			if (hour_Now == 7 && Min_Now < 30) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 7 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now < 7) {
				now.setDate(now.getDate() - 1);
				Year_Now = now.getFullYear();
				Month_Now = ("0" + (now.getMonth() + 1)).slice(-2)
				Day_Now = ("0" + (now.getDate())).slice(-2)
				fulldate = Year_Now + "-" + Month_Now + "-" + Day_Now
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now <= 19) {
			if (hour_Now == 19 && Min_Now < 30) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
			else if (hour_Now == 19 && Min_Now >= 30) {
				starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
			}
			else if (hour_Now > 7 && hour_Now < 19) {
				starttime = new Date(fulldate + "T07:30:00.000+07:00").getTime();
			}
		}
		else if (hour_Now > 19) {
			starttime = new Date(fulldate + "T19:30:00.000+07:00").getTime();
		}

		var endtime;

		var data_filter_1 = []
		for (var a = 0; a < data.length; a++) {
			if (data[a].State_value == "1") {
				data_filter_1.push(data[a]);
			}
		}

		var timerun_ = 0;
		var timerun_a = 0;

		var case_backup = 0;
		var distance = 0;
		var distance22 = 0

		if (data_filter_1.length == 0) {
			if (data[data.length - 1].MC_MC_Break_ == "1") {
				endtime = new Date().getTime();
				distance = endtime - starttime;

				var days = Math.floor(distance / (1000 * 60 * 60 * 24));
				var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
				var seconds = Math.floor((distance % (1000 * 60)) / 1000);

				var time_ = (hours * 60) + (minutes)
				if (!isNaN(time_)) {
					document.getElementById("Alarm_" + Addr).innerText = String(time_) + " min"
				}
				else {
					document.getElementById("Alarm_" + Addr).innerText = "0 min"
				}
			}
			else {
				distance = 0
			}
		}
		else {

			var EN_Stop_First = false;
			var first_End = 0;
			for (var a = 0; a < data_filter_1.length; a++) {
				if (data_filter_1[a].MC_MC_Break_ == "0") {
					var StateStop = "";
					for (var b = 0; b < data.length; b++) {
						if (data[b].id == data_filter_1[a].id) {
							StateStop = data[b - 1].MC_MC_Break_;
						}
					}
					if (StateStop == "1") {
						var str = data_filter_1[a].Time_.split(' ')[0] + "T" + data_filter_1[a].Time_.split(' ')[1] + ".000+07:00";
						first_End = new Date(str).getTime();
						EN_Stop_First = true;
					}
					break;
				}
			}

			for (var b = 0; b < data_filter_1.length; b++) {
				if (data_filter_1[b].MC_MC_Break_ == "1") {
					var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
					timerun_a = new Date(str).getTime();
					case_backup = 1
				}
				else if (data_filter_1[b].MC_MC_Break_ == "0") {
					if (case_backup == 1) {
						var str = data_filter_1[b].Time_.split(' ')[0] + "T" + data_filter_1[b].Time_.split(' ')[1] + ".000+07:00";
						var t = new Date(str).getTime();
						var t2 = t - timerun_a
						timerun_ += t2;
					}
					case_backup = 0;
				}
			}

			var distance2 = null;
			if (case_backup) {
				var now = new Date().getTime()
				distance2 = now - timerun_a
			}

			var distance1 = first_End - starttime;

			if (!EN_Stop_First) {
				distance1 = 0;
			}

			var distance = distance1 + timerun_ + distance2

			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			//Alarm_483FDA7E7D22
			var time_ = (hours * 60) + (minutes)
			if (!isNaN(time_)) {
				document.getElementById("Alarm_" + Addr).innerText = String(time_) + " min"
			}
			else {
				document.getElementById("Alarm_" + Addr).innerText = "0 min"
			}
		}

		return distance;
	}









	var Current_Device_new = [];

	function ReadData_Backend(){
		fetch('http://' + '157.230.243.24' + ':30000/Current_Device_public')
		.then(function (response) {
			if (response.status == 200) {
				response.json().then(json => {
					dataalldevice = json
					Current_Device_new = dataalldevice;
					console.log(dataalldevice);
					
					GUIProcessing();
				})

				return dataalldevice;
			} else {
				console.log('No Data');
			}
			throw new Error('Request failed.');
		})
		.then(data => {

		})
		.catch(function (error) {
			console.log(error);
		});
	}

	function ReadData_Backend_with_id(id){
		fetch('http://' + '157.230.243.24' + ':30000/Current_Device_with_id'+id)
		.then(function (response) {
			//
			if (response.status == 200) {
				response.json().then(json => {
					//dataalldevice = json
					//Current_Device_new = dataalldevice;
					console.log("---> get");

					var meltingtemparray = []
					var moletemparray = []
					var oiltemparray = []
					var timetemparray = []


					var Production_Time = []
					var Production_Value = []
					var Production_value_raw = 0;


					var ggg_count = 1;
					for (var d = 0; d < json.length; d++) {
						//if(IDDevice_Select == Current_Device[numberSelectID].ADDR){
						if (ggg_count == 5) {
							//console.log(json[d].Time_)
							//timetemparray.push(json[d].Time_.split('T')[1].split('.')[0])
							timetemparray.push(convertTZ(json[d].Time_,"Asia/Jakarta"))
							meltingtemparray.push(parseFloat(json[d].Melting_Temp))
							moletemparray.push(parseFloat(json[d].Mold_Temp))
							oiltemparray.push(parseFloat(json[d].Oil_Temp))
							ggg_count = 1;
						}
						else {
							ggg_count++;
						}

						if (json[d].State_value == "1") {
							//Production_Time.push(json[d].Time_.split('T')[1].split('.')[0])
							Production_Time.push(convertTZ(json[d].Time_,"Asia/Jakarta"))

							if (json[d].MC_Run_ == "1") {
								Production_value_raw += 1
								Production_Value.push(Production_value_raw)
							}
							else {
								Production_Value.push(Production_value_raw)
							}
						}
					}

					document.getElementById('NumberOfProduction_0').innerHTML = Production_value_raw

					config_chartGraphTempRealtime.data.labels = timetemparray
					config_chartGraphTempRealtime.data.datasets[0].data = moletemparray
					config_chartGraphTempRealtime.data.datasets[1].data = meltingtemparray
					config_chartGraphTempRealtime.data.datasets[2].data = oiltemparray


					myLineChartRealTimeTemp.update();


					config_chartGraphProductionRealtime.data.labels = Production_Time
					config_chartGraphProductionRealtime.data.datasets[0].data = Production_Value
					myLineChartRealTimeProduct.update();
					//GUIProcessing();
				})

				//console.log(response);

				return dataalldevice;
			} else {
				console.log('No Data');
			}
			throw new Error('Request failed.');
		})
		.then(data => {

		})
		.catch(function (error) {
			console.log(error);
		});
	}

	function convertTZfull(date, tzString) {
		var format = 'YYYY/MM/DD HH:mm:ss ZZ';
			//return moment(date, format).tz(tzString).format(format);
		
		var d = new Date(date);
		//console.log(d)

		var datestring = twodigit(d.getDate())  + "-" + twodigit((d.getMonth()+1)) + "-" + d.getFullYear() + " " + twodigit(d.getHours()) + ":" + twodigit(d.getMinutes())+ ":" + twodigit(d.getSeconds());
		//console.log(datestring)
		return datestring
	}
	function convertTZ(date, tzString) {
		var format = 'YYYY/MM/DD HH:mm:ss ZZ';
			//return moment(date, format).tz(tzString).format(format);
		
		var d = new Date(date);
		//console.log(d)

		var datestring = twodigit(d.getHours()) + ":" + twodigit(d.getMinutes())+ ":" + twodigit(d.getSeconds());
		//console.log(datestring)
		return datestring
	}
	function twodigit(data){
		var str_data = data+"";
		var returndata = "";
		if(str_data.length == 1){
			returndata = "0" + str_data
		}
		else{
			returndata = "" + str_data
		}
		return returndata;
	}
	function GUIProcessing(){

		for (var Num = 0; Num < Current_Device_new.length; Num++) {
			try{

				//console.log("is code")
				if (!isNaN(parseFloat(Current_Device_new[Num].data.Realtime_Process.meltemp_))) {
					document.getElementById("Melting_Temp_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_Process.meltemp_ + " °C"
				}

				if (!isNaN(parseFloat(Current_Device_new[Num].data.Realtime_Process.moletemp_))) {
					document.getElementById("Mold_Temp_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_Process.moletemp_ + " °C"
				}

				if (!isNaN(parseFloat(Current_Device_new[Num].data.Realtime_Process.oiltemp_))) {
					document.getElementById("Oil_Temp_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_Process.oiltemp_ + " °C"
				}

				document.getElementById("Lastupdate_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].Last_Update
				document.getElementById("Last_Update").innerText = "Last Update : " + Current_Device_new[Num].Last_Update
					
				//if(Current_Device_new[Num].ADDR == "483FDA7E7CAF"){
					//console.log(Current_Device_new[Num].Label_Status)
					if (Current_Device_new[Num].Label_Status == "0") {
						document.getElementById("ShowLabelNumberMachine_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].Label_0
						//console.log("483FDA7E7CAF Name Label 0 = "+Current_Device_new[Num].Label_0)
					}
					else if (Current_Device_new[Num].Label_Status == "1") {
						document.getElementById("ShowLabelNumberMachine_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].Label_1
						//console.log("483FDA7E7CAF Name Label 1 = "+Current_Device_new[Num].Label_1)
					}
				//}

				

				//ShowLabelNumberMachine_483FDA7E7CAF


				if (parseFloat(Current_Device_new[Num].data.Realtime_Process.oiltemp_) >= 60) {
					if (Current_Device_new[Num].State_Alarm == 0) {
						document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).innerText = ""
						document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).style.display = "none"
						Current_Device_new[Num].State_Alarm = 1;
					}
					else if (Current_Device_new[Num].State_Alarm == 1) {
						document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).innerText = "Alert Oil Temp!"
						document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).style.display = "block"
						document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).style.color = "#ff0000";
						Current_Device_new[Num].State_Alarm = 0;
					}
				}
				else {
					document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).innerText = ""
					document.getElementById("Alarm_Oil" + Current_Device_new[Num].ADDR).style.display = "None"
					Current_Device_new[Num].State_Alarm = 0;
				}
				
				//console.log(Current_Device_new[Num].Name_Machine + " " + Current_Device_new[Num].id);
				
				//#59ed66 เขียว
				//#ed6262 แดง
				//#8d8d8d เทา
				//#cfcd5b เหลือง
				//#5057be น้ำเงิน
				
				var color = "";
				
				if (Current_Device_new[Num].Status_Machine == "MC_Run_") {
					document.getElementById(Current_Device_new[Num].ADDR).className = "card hovercard Green";
					color = "#59ed66";
				}
				else if (Current_Device_new[Num].Status_Machine == "MC_Stop_") {
					document.getElementById(Current_Device_new[Num].ADDR).className = "card hovercard Red";
					color = "#ed6262";
				}
				else if (Current_Device_new[Num].Status_Machine == "MC_Offline_") {
					document.getElementById(Current_Device_new[Num].ADDR).className = "card hovercard Gray";
					color = "#8d8d8d";
				}
				else if (Current_Device_new[Num].Status_Machine == "MC_Break_") {
					document.getElementById(Current_Device_new[Num].ADDR).className = "card hovercard Yellow";
					color = "#cfcd5b";
				}
				else if (Current_Device_new[Num].Status_Machine == "MC_MC_Break_") {
					document.getElementById(Current_Device_new[Num].ADDR).className = "card hovercard Blue";
					color = "#5057be";
				}
				
				document.getElementById("dot" + Current_Device_new[Num].id).style.backgroundColor = color;
				
				//console.log(Current_Device_new[Num].ADDR+ " : " + Current_Device_new[Num].data.Realtime_rawdata_10.length )
				if(Current_Device_new[Num].data.Realtime_rawdata_10.length == 0){
					document.getElementById("Percen_Working_Time_" + Current_Device_new[Num].ADDR).innerText = "0.00 %"
				}
				else{
					document.getElementById("Percen_Working_Time_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.Percen_Working_Time_.toFixed(2) +" %"
				}
				document.getElementById("Status_Run_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_status.Status_Run_;
				document.getElementById("Status_Stop_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_status.Status_Stop_;
				document.getElementById("Status_Offline_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_status.Status_Offline_;
				document.getElementById("Status_Break_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_status.Status_Break_;
				document.getElementById("Status_StopBreakMC_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_status.Status_StopBreakMC_;
			

				document.getElementById("Total_Working_Time_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.Total_Working_Time_ + " min";
				document.getElementById("Stop_Time_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.StopMin + " min";
				document.getElementById("Total_Stop_Machine_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.OfflinepMin + " min";
				document.getElementById("Break_Time_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.BreakMin + " min";
				document.getElementById("Alarm_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.BreakMCMin + " min";
				document.getElementById("Working_Time_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.Realtime_time_All.RunMin + " min";
				
				document.getElementById("Actualproduct_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.RealtimeProduction.Actualproduct + " pcs";
				document.getElementById("CycleTime_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.RealtimeProduction.CycleTime + " min"
				document.getElementById("Production_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].data.RealtimeProduction.shot + " Shot"
				
				document.getElementById("ValueSettingTargetProduct_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].settarget_prduvtion + " pcs"
				//document.getElementById("ValueSettingTargetProduct_" + Current_Device_new[Num].ADDR).innerText = Current_Device_new[Num].settarget_prduvtion + " pcs"

			}catch{

			}

			//console.log(Current_Device[Num].ADDR);
		}
	}

	
	var state_ch = true;
	var state_ch_2 = true;
	var counter_read_graph = 0;

	function Loop_Program() {
		//console.log("loop")
		//ProcessingCase();
		
		if (Realtime) {

			var numberSelectID = -1
			for (var d = 0; d < Current_Device.length; d++) {
				if (Current_Device[d].ADDR == IDDevice_Select) {
					numberSelectID = d;
				}
			}

			if(counter_read_graph == 0){
				state_ch = true;
			}
			
			if(counter_read_graph>=15){
				counter_read_graph = 0;
			}
			else{
				counter_read_graph++;
			}
			

			console.log(counter_read_graph);

			//numberSelectID = 0;
			if (numberSelectID != -1) {
				if(state_ch){
					ReadData_Backend_with_id(IDDevice_Select);
					state_ch = false
				}
			}
			state_ch_2 = true
		}
		else {
			
			if (SelectDay == true && SelectMonth == false && SelectYear == false) {
				if(counter_read_graph == 0){
					state_ch_2 = true;
				}
				if(counter_read_graph>=15){
					counter_read_graph = 0;
				}
				else{
					counter_read_graph++;
				}

				console.log(counter_read_graph)

				if(state_ch_2){
					Processing_oneday();
					state_ch_2 = false
				}

				
			}
			else if (SelectDay == false && SelectMonth == true && SelectYear == false) {
				//Processing_month();
			}
			else if (SelectDay == false && SelectMonth == false && SelectYear == true) {
				//Processing_year();
			}
			ReadData_Backend();
			state_ch = true;
		}

		return true;
	}

	var rows = [];
	var rows_production = [];

	function Processing_oneday() {
		
		var componentdateselector = document.getElementById("dateselectoroneday").value
		//console.log("chart one day : " + componentdateselector +" : " + SelectCase);
		
		if (SelectCase == 1) {

			fetch('php/ListDataDB.php?MacMachine=' + IDDevice_Select + '&Date_=' + componentdateselector + '&case_=' + SelectCase)
				.then(function (response) {

					if (response.status == 200) {
						response.json().then(json => {
							//dataalldevice = json
							//console.log(json);
							Select_Device = json


							var meltingtemparray = []
							var moletemparray = []
							var oiltemparray = []
							var timetemparray = []

							var Production_Time = []
							var Production_Value = []
							var Production_value_raw = 0;
							var ggg = 1
							for (var d = 0; d < Select_Device.length; d++) {
								if (ggg >= 5) {
									timetemparray.push(Select_Device[d].Time_.split(' ')[1])
									meltingtemparray.push(parseFloat(Select_Device[d].Melting_Temp))
									moletemparray.push(parseFloat(Select_Device[d].Mold_Temp))
									oiltemparray.push(parseFloat(Select_Device[d].Oil_Temp))
									ggg = 1;
								}
								else {
									ggg += 1;
								}



								if (Select_Device[d].State_value == "1") {
									Production_Time.push(Select_Device[d].Time_.split(' ')[1])

									if (Select_Device[d].MC_Run_ == "1") {
										Production_value_raw += 1;
										Production_Value.push(Production_value_raw);
									}
									else {
										Production_Value.push(Production_value_raw)
									}
								}
							}

							document.getElementById('NumberOfProduction_1').innerHTML = Production_value_raw
							rows.length = 0;
							rows.push(["Time", "MeltingTemp", "MoleTemp", "OilTemp"])
							for (var ff = 0; ff < timetemparray.length; ff++) {
								rows.push([timetemparray[ff] + "", moletemparray[ff] + "", meltingtemparray[ff] + "", oiltemparray[ff] + ""])
							}

							rows_production.length = 0;
							rows_production.push(["Time", "Production"])
							for (var ff = 0; ff < Production_Time.length; ff++) {
								rows_production.push([Production_Time[ff] + "", Production_Value[ff]])
							}

							//rows

							config_chartGraphTemponeday.data.labels = timetemparray
							config_chartGraphTemponeday.data.datasets[0].data = moletemparray
							config_chartGraphTemponeday.data.datasets[1].data = meltingtemparray
							config_chartGraphTemponeday.data.datasets[2].data = oiltemparray

							myLineChartonedayTemp.update();


							config_chartGraphProductiononeday.data.labels = Production_Time
							config_chartGraphProductiononeday.data.datasets[0].data = Production_Value
							myLineChartonedayProduct.update();

						})
						return;
					} else {
						console.log('No Data');
					}

					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});

		}
		else if (SelectCase == 2) {

			fetch('php/ListDataDB.php?MacMachine=' + IDDevice_Select + '&Date_=' + componentdateselector + '&case_=' + SelectCase)
				.then(function (response) {

					if (response.status == 200) {
						response.json().then(json => {
							//dataalldevice = json
							//console.log(json);
							Select_Device = json


							var meltingtemparray = []
							var moletemparray = []
							var oiltemparray = []
							var timetemparray = []

							var Production_Time = []
							var Production_Value = []
							var Production_value_raw = 0;


							var ggg = 1
							for (var d = 0; d < Select_Device.length; d++) {
								if (ggg >= 5) {
									timetemparray.push(Select_Device[d].Time_.split(' ')[1])
									meltingtemparray.push(parseFloat(Select_Device[d].Melting_Temp))
									moletemparray.push(parseFloat(Select_Device[d].Mold_Temp))
									oiltemparray.push(parseFloat(Select_Device[d].Oil_Temp))
									ggg = 1;
								}
								else {
									ggg += 1;
								}



								if (Select_Device[d].State_value == "1") {
									Production_Time.push(Select_Device[d].Time_.split(' ')[1])

									if (Select_Device[d].MC_Run_ == "1") {
										Production_value_raw += 1
										Production_Value.push(Production_value_raw)
									}
									else {
										Production_Value.push(Production_value_raw)
									}
								}
							}

							//NumberOfProduction_1
							document.getElementById('NumberOfProduction_1').innerHTML = Production_value_raw
							/*
														for(var d = 0 ; d<Select_Device.length ; d++){
															timetemparray.push(Select_Device[d].Time_.split(' ')[1])
															meltingtemparray.push(parseFloat(Select_Device[d].Melting_Temp))
															moletemparray.push(parseFloat(Select_Device[d].Mold_Temp))
															oiltemparray.push(parseFloat(Select_Device[d].Oil_Temp))
							
															if(Select_Device[d].State_value == "1"){
																Production_Time.push(Select_Device[d].Time_.split(' ')[1])
							
																if(Select_Device[d].MC_Run_ == "1"){
																	Production_value_raw+=1
																	Production_Value.push(Production_value_raw)
																}
																else{
																	Production_Value.push(Production_value_raw)
																}
															}
														}*/

							rows.length = 0;
							rows.push(["Time", "MeltingTemp", "MoleTemp", "OilTemp"])
							for (var ff = 0; ff < timetemparray.length; ff++) {
								rows.push([timetemparray[ff] + "", meltingtemparray[ff] + "", moletemparray[ff] + "", oiltemparray[ff] + ""])
							}

							rows_production.length = 0;
							rows_production.push(["Time", "Production"])
							for (var ff = 0; ff < Production_Time.length; ff++) {
								rows_production.push([Production_Time[ff] + "", Production_Value[ff]])
							}


							config_chartGraphTemponeday.data.labels = timetemparray
							config_chartGraphTemponeday.data.datasets[0].data = moletemparray
							config_chartGraphTemponeday.data.datasets[1].data = meltingtemparray
							config_chartGraphTemponeday.data.datasets[2].data = oiltemparray

							myLineChartonedayTemp.update();

							config_chartGraphProductiononeday.data.labels = Production_Time
							config_chartGraphProductiononeday.data.datasets[0].data = Production_Value
							myLineChartonedayProduct.update();
						})
						return;
					} else {
						console.log('No Data');
					}

					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});



		}
	}
	function Processing_month() {
		var componentdateselector = document.getElementById("dateselectormonth").value
		//console.log(IDDevice_Select +" : "+componentdateselector )

		if (IDDevice_Select != "") {
			fetch('php/ListDataDB_Month.php?MacMachine=' + IDDevice_Select + '&Date_=' + componentdateselector)
				.then(function (response) {

					if (response.status == 200) {
						response.json().then(json => {
							//dataalldevice = json
							//console.log(json);
							Select_Device = json
							if (json.length > 0) {
								var meltingtemparray_max = []
								var meltingtemparray_min = []
								var moletemparray_max = []
								var moletemparray_min = []
								var oiltemparray_max = []
								var oiltemparray_min = []

								var Production = []
								var Production_count = 0

								var timetemparray = []

								var temp_day = Select_Device[0].Time_.split(' ')[0];

								var meltingtemp_Max = 0
								var meltingtemp_Min = 100000

								var moletemparray_Max = 0
								var moletemparray_Min = 100000

								var oiltemparray_Max = 0
								var oiltemparray_Min = 100000

								var countaverage = 0;
								//rows

								//console.log(Select_Device)

								for (var d = 0; d < Select_Device.length; d++) {
									if (Select_Device[d].Time_.split(' ')[0] != temp_day) {
										//timetemparray.push(Select_Device[d].Time_.split(' ')[0])
										timetemparray.push(temp_day)

										//console.log(Select_Device[d].Time_.split(' ')[0])

										//console.log(Production_count)

										meltingtemparray_max.push(meltingtemp_Max);
										meltingtemparray_min.push(meltingtemp_Min);

										moletemparray_max.push(moletemparray_Max);
										moletemparray_min.push(moletemparray_Min);

										oiltemparray_max.push(oiltemparray_Max);
										oiltemparray_min.push(oiltemparray_Min);

										Production.push(Production_count);


										/*
															meltingtemparray.push(meltingtemp_average / countaverage)
															moletemparray.push(moletemparray_average / countaverage)
															oiltemparray.push(oiltemparray_average / countaverage)
					
															console.log(Select_Device[d].Time_.split(' ')[0] + " --- " + countaverage + " : " + (meltingtemp_average / countaverage) + " : " + (moletemparray_average / countaverage))
					
															meltingtemp_average 	= 0;
															moletemparray_average 	= 0;
															oiltemparray_average 	= 0;
															countaverage = 0;
										*/

										meltingtemp_Max = 0
										meltingtemp_Min = 100000

										moletemparray_Max = 0
										moletemparray_Min = 100000

										oiltemparray_Max = 0
										oiltemparray_Min = 100000

										Production_count = 0

										temp_day = Select_Device[d].Time_.split(' ')[0]
									}
									else {

										if (parseFloat(Select_Device[d].Melting_Temp) > meltingtemp_Max) {
											if (!Number.isNaN(Select_Device[d].Melting_Temp)) {
												meltingtemp_Max = parseFloat(Select_Device[d].Melting_Temp)
											}
										}
										if (parseFloat(Select_Device[d].Melting_Temp) < meltingtemp_Min) {
											if (!Number.isNaN(Select_Device[d].Melting_Temp)) {
												meltingtemp_Min = parseFloat(Select_Device[d].Melting_Temp)
											}
										}




										if (parseFloat(Select_Device[d].Mold_Temp) > moletemparray_Max) {
											if (!Number.isNaN(Select_Device[d].Mold_Temp)) {
												moletemparray_Max = parseFloat(Select_Device[d].Mold_Temp)
											}
										}
										if (parseFloat(Select_Device[d].Mold_Temp) < moletemparray_Min) {
											if (!Number.isNaN(Select_Device[d].Mold_Temp)) {
												moletemparray_Min = parseFloat(Select_Device[d].Mold_Temp)
											}
										}




										if (parseFloat(Select_Device[d].Oil_Temp) > oiltemparray_Max) {
											if (!Number.isNaN(Select_Device[d].Oil_Temp)) {
												oiltemparray_Max = parseFloat(Select_Device[d].Oil_Temp)
											}
										}
										if (parseFloat(Select_Device[d].Oil_Temp) < oiltemparray_Min) {
											if (!Number.isNaN(Select_Device[d].Oil_Temp)) {
												oiltemparray_Min = parseFloat(Select_Device[d].Oil_Temp)
											}
										}


										if (Select_Device[d].State_value == "1") {
											//Production_Time.push(Select_Device[d].Time_.split(' ')[1])

											if (Select_Device[d].MC_Run_ == "1") {
												Production_count += 1
												//Production_Value.push(Production_value_raw)
											}
											else {
												//Production_Value.push(Production_value_raw)
											}
										}

										/*
										meltingtemp_average += parseFloat(Select_Device[d].Melting_Temp);
										moletemparray_average += parseFloat(Select_Device[d].Mold_Temp);
										oiltemparray_average += parseFloat(Select_Device[d].Oil_Temp);
										countaverage++;*/
									}

								}

								rows = [];
								rows_production = [];

								rows.length = 0;
								rows.push(["Time", "meltingtemparray_max", "meltingtemparray_min", "moletemparray_max", "moletemparray_min", "oiltemparray_max", "oiltemparray_min"])
								for (var ff = 0; ff < timetemparray.length; ff++) {
									rows.push([timetemparray[ff] + "", meltingtemparray_max[ff] + "", meltingtemparray_min[ff] + "", moletemparray_max[ff] + "", moletemparray_min[ff] + "", oiltemparray_max[ff] + "", oiltemparray_min[ff] + ""])
								}



								rows_production.length = 0;
								rows_production.push(["Time", "Production"])
								for (var ff = 0; ff < timetemparray.length; ff++) {
									rows_production.push([timetemparray[ff] + "", Production[ff]])
								}

								config_chartGraphTempmonth.data.labels = timetemparray
								config_chartGraphTempmonth.data.datasets[0].data = meltingtemparray_max
								config_chartGraphTempmonth.data.datasets[1].data = meltingtemparray_min
								config_chartGraphTempmonth.data.datasets[2].data = moletemparray_max
								config_chartGraphTempmonth.data.datasets[3].data = moletemparray_min

								config_chartGraphTempmonth.data.datasets[4].data = oiltemparray_max
								config_chartGraphTempmonth.data.datasets[5].data = oiltemparray_min

								myLineChartmonthTemp.update();


								config_chartGraphProductionmonth.data.labels = timetemparray
								config_chartGraphProductionmonth.data.datasets[0].data = Production
								myLineChartmonthProduct.update();

							}
							else {
								Select_Device = []

								rows = [];
								rows_production = [];

								rows.length = 0;
								rows.push(["Time", "meltingtemparray_max", "meltingtemparray_min", "moletemparray_max", "moletemparray_min", "oiltemparray_max", "oiltemparray_min"])
								rows_production.length = 0;
								rows_production.push(["Time", "Production"])
							}

						})
						return;
					} else {
						console.log('No Data');
					}

					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});
		}


	}
	function Processing_year() {
		var componentdateselector = document.getElementById("dateselectoryear").value

		console.log(size_data);

		if (IDDevice_Select != "") {
			fetch('php/ListDataDB_Year.php?MacMachine=' + IDDevice_Select + '&Date_=' + componentdateselector + '&Number_=0')
				.then(function (response) {

					if (response.status == 200) {
						response.json().then(json => {
							//dataalldevice = json
							//console.log(json);

							Select_Device = json
							if (json.length > 0) {
								if (Select_Deviceold.length != Select_Device.length) {
									var meltingtemparray = []
									var moletemparray = []
									var oiltemparray = []
									var timetemparray = []

									var Production_count = 0
									var Production_ = []


									var temp_day = Select_Device[0].Time_.split(' ')[0].split('-')[0] + '-' + Select_Device[0].Time_.split(' ')[0].split('-')[1];
									var meltingtemp_average = 0
									var moletemparray_average = 0
									var oiltemparray_average = 0
									var countaverage = 0;

									var lastprogram = 0;
									for (var d = 0; d < Select_Device.length; d++) {
										//console.log((Select_Device[d].Time_.split(' ')[0].split('-')[0] + '-' + Select_Device[d].Time_.split(' ')[0].split('-')[1]) + " : " + temp_day);
										if ((Select_Device[d].Time_.split(' ')[0].split('-')[0] + '-' + Select_Device[d].Time_.split(' ')[0].split('-')[1]) != temp_day) {
											timetemparray.push(Select_Device[d].Time_.split(' ')[0].split('-')[0] + '-' + Select_Device[d].Time_.split(' ')[0].split('-')[1])


											lastprogram = 1;
											/*
											meltingtemparray.push(meltingtemp_average / countaverage)
											moletemparray.push(moletemparray_average / countaverage)
											oiltemparray.push(oiltemparray_average / countaverage)

											meltingtemp_average 	= 0;
											moletemparray_average 	= 0;
											oiltemparray_average 	= 0;
											countaverage = 0;*/

											temp_day = Select_Device[d].Time_.split(' ')[0].split('-')[0] + '-' + Select_Device[d].Time_.split(' ')[0].split('-')[1]
										}
										else {

											if (Select_Device[d].State_value == "1") {
												//Production_Time.push(Select_Device[d].Time_.split(' ')[1])

												if (Select_Device[d].MC_Run_ == "1") {
													Production_count += 1

													//console.log(Select_Device[d].Time_ + " : " + Production_count)
													//Production_Value.push(Production_value_raw)
												}
												else {
													//Production_Value.push(Production_value_raw)
												}
											}
											/*
											meltingtemp_average += parseFloat(Select_Device[d].Melting_Temp);
											moletemparray_average += parseFloat(Select_Device[d].Mold_Temp);
											oiltemparray_average += parseFloat(Select_Device[d].Oil_Temp);
											countaverage++;*/
										}
									}

									console.log("lastprogram --> " + lastprogram);
									if (lastprogram == 0) {
										console.log("-->" + temp_day + " : " + Production_count)
										Production_.push(Production_count)
										timetemparray.push(temp_day)
									}
									/*else{
										console.log("-->"+temp_day + " : " + Production_count )
										Production_.push(Production_count)
										timetemparray.push(temp_day)
									}*/

									/*
																	rows.length = 0;
																	rows.push(["Time","meltingtemparray_max","meltingtemparray_min","moletemparray_max","moletemparray_min","oiltemparray_max","oiltemparray_min"])
																	for(var ff = 0; ff < timetemparray.length ; ff++){
																		rows.push([timetemparray[ff]+"",meltingtemparray_max[ff]+"",meltingtemparray_min[ff]+"",moletemparray_max[ff]+"",moletemparray_min[ff]+"",oiltemparray_max[ff]+"",oiltemparray_min[ff]+""])
																	}*/

									rows_production.length = 0;
									rows_production.push(["Time", "Production"])
									for (var ff = 0; ff < timetemparray.length; ff++) {
										rows_production.push([timetemparray[ff] + "", Production_[ff]])
									}



									config_chartGraphProductionyear.data.labels = timetemparray
									config_chartGraphProductionyear.data.datasets[0].data = Production_
									//config_chartGraphProductionyear.data.datasets[1].data = meltingtemparray
									//config_chartGraphProductionyear.data.datasets[2].data = oiltemparray
									//myLineChartRealTimeProduct

									myLineChartyearProduct.update();
									Select_Deviceold = Select_Device



								}

							}
							else {
								Select_Device = []

								rows_production = [];

								rows_production.length = 0;
								rows_production.push(["Time", "Production"])
							}

							//Select_Device = json
						})
						return;
					} else {
						console.log('No Data');
					}

					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});
		}




	}

	function ClearData() {
		
		Select_Device = [];
		Select_Deviceold = [];
		dataalldevice = [];
		
		config_chartGraphTempRealtime.data.labels = []
		config_chartGraphTempRealtime.data.datasets[0].data = []
		config_chartGraphTempRealtime.data.datasets[1].data = []
		config_chartGraphTempRealtime.data.datasets[2].data = []

		config_chartGraphTemponeday.data.labels = []
		config_chartGraphTemponeday.data.datasets[0].data = []
		config_chartGraphTemponeday.data.datasets[1].data = []
		config_chartGraphTemponeday.data.datasets[2].data = []

		config_chartGraphTempmonth.data.labels = []
		config_chartGraphTempmonth.data.datasets[0].data = []
		config_chartGraphTempmonth.data.datasets[1].data = []
		config_chartGraphTempmonth.data.datasets[2].data = []

		config_chartGraphTempyear.data.labels = []
		config_chartGraphTempyear.data.datasets[0].data = []
		config_chartGraphTempyear.data.datasets[1].data = []
		config_chartGraphTempyear.data.datasets[2].data = []


		config_chartGraphProductionRealtime.data.labels = []
		config_chartGraphProductionRealtime.data.datasets[0].data = []

		config_chartGraphProductiononeday.data.labels = []
		config_chartGraphProductiononeday.data.datasets[0].data = []

		config_chartGraphProductionmonth.data.labels = []
		config_chartGraphProductionmonth.data.datasets[0].data = []

		config_chartGraphProductionyear.data.labels = []
		config_chartGraphProductionyear.data.datasets[0].data = []



		myLineChartRealTimeTemp.update();
		myLineChartRealTimeProduct.update();

		myLineChartonedayTemp.update();
		myLineChartonedayProduct.update();

		myLineChartmonthTemp.update();
		myLineChartmonthProduct.update();

		myLineChartyearProduct.update();
	}

	function resetcounter(){
		counter_read_graph = 0;
	}

	$('#ChartRealtime').on('hidden.bs.modal', function (e) {
		ClearData()
		console.log("hide");
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;
		state_ch = true;
		IDDevice_Select = '';
		counter_read_graph = 0;
		state_ch_2 = true

		config_chartGraphTempRealtime.data.labels = []
		config_chartGraphTempRealtime.data.datasets[0].data = []
		config_chartGraphTempRealtime.data.datasets[1].data = []
		config_chartGraphTempRealtime.data.datasets[2].data = []


		myLineChartRealTimeTemp.update();


		config_chartGraphProductionRealtime.data.labels = []
		config_chartGraphProductionRealtime.data.datasets[0].data = []
		myLineChartRealTimeProduct.update();

		document.getElementById('NumberOfProduction_0').innerHTML = "0"
		document.getElementById('NumberOfProduction_1').innerHTML = "0"


	})
	$('#ChartSelectDay').on('hidden.bs.modal', function (e) {
		ClearData()
		console.log("hide");
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;
		IDDevice_Select = '';
	})
	$('#ChartSelectMonth').on('hidden.bs.modal', function (e) {
		ClearData()
		console.log("hide");
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;
		IDDevice_Select = '';
	})
	$('#ChartSelectYear').on('hidden.bs.modal', function (e) {
		ClearData()
		console.log("hide");
		Realtime = false;
		SelectDay = false;
		SelectMonth = false;
		SelectYear = false;
		IDDevice_Select = '';
	})

	setInterval(function () { Loop_Program(); }, 2000);

	//setInterval(function () { GUI_Set(global_case, global_date_select); }, 1000);


	setInterval(function () {
		var d = new Date();
		var hours = d.getHours();
		var minutes = d.getMinutes();
		var seconds = d.getSeconds();

		/*var n = d.toLocaleDateString();
		console.log(n)

		var distancek = new Date().getTime();

		var days = Math.floor(distancek / (1000 * 60 * 60 * 24));
		var hours = Math.floor((distancek % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes = Math.floor((distancek % (1000 * 60 * 60)) / (1000 * 60));
		var seconds = Math.floor((distancek % (1000 * 60)) / 1000);
*/
		//console.log(hours+":"+minutes+":"+seconds)

		if (hours == 7 && minutes == 30 && seconds == 0) {
			location.reload();
		}
		else if (hours == 19 && minutes == 30 && seconds == 0) {
			location.reload();
		}
		/*else if(hours == 0 && minutes == 21 && seconds == 0){
			location.reload();
		}*/
	}, 1000);



</script>





<script>

	//console.log(window.location.href)

	var Server_Name = "150.95.27.101";

	document.getElementById('Panel_Show_One').style.display = 'none';
	document.getElementById('Panel_Show_select_day').style.display = 'none';
	document.getElementById('Panel_Show_Product_Month').style.display = 'none';


	//var Status_Login_ = sessionStorage.getItem("Status_Login");

	var Status_Login_ = localStorage.getItem('Status_Login')
	var _split = Status_Login_.split(",")
	var Status_Login = _split[0]

	var ADDR_showone_data;
	var id_MC_showone_data = 0;

	Status_Login = _split[0]
	//console.log("Status_Login " + Status_Login_);
	//Enable_Edit_User
	if (localStorage.getItem('Status_Login').toString() == "null") {
		//console.log("no");
		document.location.href = "index.html";
	}
	else {
		if (_split[1] == "admin") {
			try {
				document.getElementById('Enable_Edit_User').style.display = 'block';
			}
			catch {

			}

		}
		else {
			//document.getElementById('Enable_Edit_User').style.display = 'none';

			try {
				document.getElementById('Enable_Edit_User').style.display = 'none';
			}
			catch {

			}
		}

	}

	function day_(var_day) {
		var re = ""
		switch (var_day) {
			case 0:
				re = "Sun"
				break;
			case 1:
				re = "Mon"
				break;
			case 2:
				re = "Tue"
				break;
			case 3:
				re = "Wed"
				break;
			case 4:
				re = "Th"
				break;
			case 5:
				re = "Fri"
				break;
			case 6:
				re = "Sat"
				break;

		}
		return re
	}


	function Mornitor_Selector(id_Machine) {
		//console.log("id_Machine >> = " + id_Machine);


		var Data_Array = id_Machine.split(",");
		ADDR_showone_data = Data_Array[0];
		id_MC_showone_data = Data_Array[0];
		console.log("id_MC_showone_data >> = " + id_MC_showone_data);

		var Name_Job = "NOT OPEN JOB";
		if (Data_Array[3] == "") {
			Name_Job = "NOT OPEN JOB";
		}
		else {
			Name_Job = "OPEN JOB";
		}

		//id_machine_one_Name

		document.getElementById("color_panel").className = 'card hovercard Green';

		document.getElementById('one_Mold_Temp').innerText = 0.00;
		document.getElementById('one_Melting_Temp').innerText = 0.00;

		document.getElementById("Jobname").innerText = "Job Name : " + Data_Array[3];
		document.getElementById("Jobopen").innerText = Name_Job;

		document.getElementById('id_machine_one').innerText = 'Mornitor : ' + Data_Array[5];
		document.getElementById('id_machine_one_Name').innerText = Data_Array[5];///----->

		document.getElementById('Panel_Show_All').style.display = 'none';
		document.getElementById('Panel_Show_One').style.display = 'block';
		document.getElementById('Panel_Show_select_day').style.display = 'none';

	}

	function Mornitor_Selector_day(id_Machine) {
		//console.log("id_Machine >> = " + id_Machine);


		var Data_Array = id_Machine.split(",");
		ADDR_showone_data = Data_Array[0];
		id_MC_showone_data = Data_Array[0];
		console.log("id_MC_showselect_data >> = " + id_MC_showone_data);

		var Name_Job = "NOT OPEN JOB";
		if (Data_Array[3] == "") {
			Name_Job = "NOT OPEN JOB";
		}
		else {
			Name_Job = "OPEN JOB";
		}

		//id_machine_one_Name

		document.getElementById("select_color_panel").className = 'card hovercard Green';

		document.getElementById('select_Mold_Temp').innerText = 0.00;
		document.getElementById('select_Melting_Temp').innerText = 0.00;

		document.getElementById("select_Jobname").innerText = "Job Name : " + Data_Array[3];
		document.getElementById("select_Jobopen").innerText = Name_Job;

		document.getElementById('id_machine_select').innerText = 'Mornitor : ' + Data_Array[5];
		document.getElementById('id_machine_select_Name').innerText = Data_Array[5];///----->

		document.getElementById('Panel_Show_All').style.display = 'none';
		document.getElementById('Panel_Show_One').style.display = 'none';
		document.getElementById('Panel_Show_select_day').style.display = 'block';

	}

	function Mornitor_Show_Production_Month(id_Machine) {
		//console.log("id_Machine >> = " + id_Machine);


		var Data_Array = id_Machine.split(",");
		ADDR_showone_data = Data_Array[0];
		id_MC_showone_data = Data_Array[0];


		document.getElementById('Panel_Show_All').style.display = 'none';
		document.getElementById('Panel_Show_One').style.display = 'none';
		document.getElementById('Panel_Show_select_day').style.display = 'none';
		document.getElementById('Panel_Show_Product_Month').style.display = 'block';

		function_select_Year()
	}

	function Click_To_Home() {
		Temp_time_selector = 1;
		document.getElementById('Panel_Show_All').style.display = 'block';
		document.getElementById('Panel_Show_One').style.display = 'none';
		document.getElementById('Panel_Show_select_day').style.display = 'none';

		document.getElementById('Panel_Show_Product_Month').style.display = 'none';
		console.log(Temp_time_selector);
	}


</script>

<script>
	//Start_Component();
	First_Loop();


	//setInterval(function(){ Loop_Component(); }, 1000);
	//setInterval(function(){ Loop_Component2(); }, 3000);

	var firt_l = true;

	var Temp_time_selector = 1;
	var Temp_time_selector_pie = 1;

	function List_Selector_time_temp() {
		var sel_Machine = document.getElementById('Selectime_graph')

		var value_id = sel_Machine.options[sel_Machine.selectedIndex].value;
		console.log(value_id);
		if (value_id == "Select1") {
			Temp_time_selector = 1;
		}
		else if (value_id == "Select2") {
			Temp_time_selector = 2;
		}
		console.log(Temp_time_selector);
	}
	function List_Selector_time_temp2() {
		var sel_Machine = document.getElementById('Selectime_graph_pie')

		var value_id = sel_Machine.options[sel_Machine.selectedIndex].value;
		console.log(value_id);
		if (value_id == "Select1") {
			Temp_time_selector_pie = 1;
		}
		else if (value_id == "Select2") {
			Temp_time_selector_pie = 2;
		}
		console.log(Temp_time_selector_pie);
	}


	function Loop_Component() {
		var d = new Date(); // for now
		d.getHours(); // => 9
		d.getMinutes(); // =>  30
		d.getSeconds(); // => 51

		var date_update = d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();
		//console.log(id_MC_showone_data)
		//document.getElementById('Work_Flow').innerHTML = "";
		document.getElementById('Last_Update').innerText = "Last Update : " + date_update;
		document.getElementById('Last_Update_one').innerText = "Last Update : " + date_update;
		document.getElementById('Last_Update_select').innerText = "Last Update : " + date_update;




		fetch('http://' + Server_Name + ':14000/Mornitor_List', { method: 'POST', body: JSON.stringify({ ID_Hardware: 'test1234' }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('ok data');

					response.json().then(json => {
						//console.log(json);

						for (a = 0; a < json.length; a++) {
							try {
								var name1 = "Mold_Temp_" + json[a].MacAddress + "";
								var name2 = "Melting_Temp_" + json[a].MacAddress + "";

								var moletemp = document.getElementById(name1);
								var meltingTemp = document.getElementById(name2);

								moletemp.innerHTML = json[a].Temp1 + " °C";
								meltingTemp.innerHTML = json[a].Temp2 + " °C";

								if (json[a].MC_Run_State == 1 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
									document.getElementById(json[a].MacAddress).className = 'card hovercard Green';
								}
								else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 1 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
									document.getElementById(json[a].MacAddress).className = 'card hovercard Red';
								}
								else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 1 && json[a].MC_Break_State == 0) {
									document.getElementById(json[a].MacAddress).className = 'card hovercard Gray';
								}
								else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 1) {
									document.getElementById(json[a].MacAddress).className = 'card hovercard Yellow';
								}

								if (json[a].MacAddress == ADDR_showone_data) {

									document.getElementById('one_Mold_Temp').innerHTML = json[a].Temp1 + " °C";
									document.getElementById('one_Melting_Temp').innerHTML = json[a].Temp2 + " °C";

									document.getElementById('select_Mold_Temp').innerHTML = json[a].Temp1 + " °C";
									document.getElementById('select_Melting_Temp').innerHTML = json[a].Temp2 + " °C";

									if (json[a].MC_Run_State == 1 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
										document.getElementById("color_panel").className = 'card hovercard Green';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 1 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
										document.getElementById("color_panel").className = 'card hovercard Red';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 1 && json[a].MC_Break_State == 0) {
										document.getElementById("color_panel").className = 'card hovercard Gray';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 1) {
										document.getElementById("color_panel").className = 'card hovercard Yellow';
									}


									if (json[a].MC_Run_State == 1 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
										document.getElementById("select_color_panel").className = 'card hovercard Green';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 1 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 0) {
										document.getElementById("select_color_panel").className = 'card hovercard Red';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 1 && json[a].MC_Break_State == 0) {
										document.getElementById("select_color_panel").className = 'card hovercard Gray';
									}
									else if (json[a].MC_Run_State == 0 && json[a].MC_Stop_State == 0 && json[a].MC_Offline_State == 0 && json[a].MC_Break_State == 1) {
										document.getElementById("select_color_panel").className = 'card hovercard Yellow';
									}




								}
							}
							catch (err) {
								//console.log("Error");
								//document.getElementById("demo").innerHTML = err.message;
							}
						}
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				//console.log(error);
			});

		var time_now = new Date();
		var c_leg = 0;


		//console.log("H:" + time_now.getHours() <= 7 && time_now.getHours() >= 19)

		if (time_now.getHours() <= 7 || time_now.getHours() >= 19) {
			if (time_now.getHours() == 7 && time_now.getMinutes() < 30) {
				c_leg = 2
				//console.log("case1")
			}
			else if (time_now.getHours() < 7 || time_now.getHours() > 19) {
				c_leg = 2
				//console.log("case2")
			}

			else if (time_now.getHours() == 19 && time_now.getMinutes() >= 30) {
				c_leg = 2
				//console.log("case3")
			}

		}
		if (time_now.getHours() >= 7 && time_now.getHours() <= 19) {
			if (time_now.getHours() == 7 && time_now.getMinutes() >= 30) {
				c_leg = 1
				//console.log("case1")
			}
			else if (time_now.getHours() > 7 && time_now.getHours() < 19) {
				c_leg = 1
				//console.log("case2")
			}
			else if (time_now.getHours() == 19 && time_now.getMinutes() < 30) {
				c_leg = 1
				//console.log("case3")
			}

		}

		//console.log("Show ---> " + c_leg);

		fetch('http://' + Server_Name + ':14000/Mornitor_List_Status_Value', { method: 'POST', body: JSON.stringify({ ID_Hardware: id_MC_showone_data, Temp_time_selector: c_leg }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('ok data');

					response.json().then(json => {
						//console.log(json);

						var days_ = Math.floor(json[0].cycletime_run / (1000 * 60 * 60 * 24));
						var hours_ = Math.floor((json[0].cycletime_run % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
						var minutes_ = Math.floor((json[0].cycletime_run % (1000 * 60 * 60)) / (1000 * 60));
						var seconds_ = Math.floor((json[0].cycletime_run % (1000 * 60)) / 1000);

						var t = (hours_ * 60 * 60) + (minutes_ * 60) + seconds_
						//console.log("cycle time = " + hours_ + " : " + minutes_ + " : " + seconds_);

						document.getElementById('Production_0ne').innerText = json[0].Run_Counter_Product + " Shot"
						document.getElementById('Cycle_Time_0ne').innerText = t + " Sec"
						document.getElementById('Alert_0ne').innerText = "0"



						//


						document.getElementById('select_Production').innerText = json[0].Run_Counter_Product + " Shot"
						document.getElementById('select_CycleTime').innerText = t + " Sec"
						document.getElementById('select_Alert').innerText = "0"

						document.getElementById('Lastupdate_one').innerText = "Last Update : " + date_update;
						document.getElementById('Lastupdate_select').innerText = "Last Update : " + date_update;

					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				//console.log(error);
			});

		fetch('http://' + Server_Name + ':14000/Mornitor_List_Status_Value', { method: 'POST', body: JSON.stringify({ ID_Hardware: '84F3EBC91BC9', Temp_time_selector: c_leg }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('ok data');

					response.json().then(json => {
						//console.log(json);

						var days_ = Math.floor(json[0].cycletime_run / (1000 * 60 * 60 * 24));
						var hours_ = Math.floor((json[0].cycletime_run % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
						var minutes_ = Math.floor((json[0].cycletime_run % (1000 * 60 * 60)) / (1000 * 60));
						var seconds_ = Math.floor((json[0].cycletime_run % (1000 * 60)) / 1000);

						var t = (hours_ * 60 * 60) + (minutes_ * 60) + seconds_
						//console.log("cycle time = " + hours_ + " : " + minutes_ + " : " + seconds_);

						document.getElementById('Production_84F3EBC91BC9').innerText = json[0].Run_Counter_Product + " Shot"
						document.getElementById('CycleTime_84F3EBC91BC9').innerText = t + " Sec"
						document.getElementById('Alert_84F3EBC91BC9').innerText = "0"

						document.getElementById('Lastupdate_84F3EBC91BC9').innerText = "Last Update : " + date_update;


					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				//console.log(error);
			});

		fetch('http://' + Server_Name + ':14000/LOG_one_Day_pie', { method: 'POST', body: JSON.stringify({ ID_Hardware: "84F3EBC91BC9", Temp_time_selector: c_leg }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {

					response.json().then(json => {
						//console.log(json);
						for (a = 0; a < json.length; a++) {
							var sum_max = parseFloat(json[a].Run_Time / 60) + parseFloat(json[a].Stop_Time / 60) + parseFloat(json[a].Break_Time / 60) + parseFloat(json[a].Offline_Time / 60)


							document.getElementById('Working_Time_84F3EBC91BC9').innerText = (json[a].Run_Time / 60).toFixed(0) + " min"
							document.getElementById('Stop_Time_84F3EBC91BC9').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
							document.getElementById('Break_Time_84F3EBC91BC9').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
							document.getElementById('Alarm_84F3EBC91BC9').innerText = "0 min"
							document.getElementById('Total_Stop_Machine_84F3EBC91BC9').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"

							/*
														document.getElementById('Working_Time_84F3EBC91BC9').innerText = (json[a].Run_Time/60).toFixed(0) + " min"
														document.getElementById('Stop_Time_84F3EBC91BC9').innerText = (json[a].Stop_Time/60).toFixed(0) + " min"
														document.getElementById('Break_Time_84F3EBC91BC9').innerText = (json[a].Break_Time/60).toFixed(0) + " min"
														document.getElementById('Alarm_84F3EBC91BC9').innerText = (json[a].Offline_Time/60).toFixed(0) + " min"
														document.getElementById('Total_Stop_Machine_84F3EBC91BC9').innerText = "0 min"
							*/


							//console.log("--------------> " + c_leg)
							if (c_leg == 1) {
								var now = new Date();

								var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")
								var countDownDate = new Date(date + "T19:30:00").getTime();

								var distance = countDownDate - now.getTime();

								var days = Math.floor(distance / (1000 * 60 * 60 * 24));
								var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
								var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
								var seconds = Math.floor((distance % (1000 * 60)) / 1000);

								console.log(days + " " + hours + " " + minutes + " " + seconds);

								var t = (hours * 60 * 60) + (minutes * 60) + seconds

								console.log(days + " " + hours + " " + minutes + " " + seconds);
								console.log(t / 60);

								var g = 720 - (t / 60);
								console.log(g);

								document.getElementById('Percen_Working_Time_84F3EBC91BC9').innerText = ((g / 720) * 100).toFixed(0) + " %"

								//document.getElementById('Total_Working_Time_84F3EBC91BC9').innerText = (sum_max).toFixed(0) + " min"
								document.getElementById('Total_Working_Time_84F3EBC91BC9').innerText = g.toFixed(0) + " min"

							}
							else if (c_leg == 2) {
								var now = new Date();

								//console.log("Hour --> " + now.getHours());

								if (now.getHours() >= 19 && now.getHours() <= 24) {
									var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")

									//var countDownDate = new Date(date + " 07:30:00").getTime();
									var countDownDate = new Date(date + "T23:59:00").getTime();
									var distance = countDownDate - now.getTime();

									var days = Math.floor(distance / (1000 * 60 * 60 * 24));
									var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
									var seconds = Math.floor((distance % (1000 * 60)) / 1000);

									var t = (hours * 60 * 60) + (minutes * 60) + seconds

									//console.log(days + " " + hours + " " + minutes + " " + seconds);
									//console.log(t/60);

									var g = 270 - (t / 60);
									//console.log(g);

									document.getElementById('Percen_Working_Time_84F3EBC91BC9').innerText = ((g / 720) * 100).toFixed(0) + " %"

									document.getElementById('Total_Working_Time_84F3EBC91BC9').innerText = g.toFixed(0) + " min"
								}
								else if (now.getHours() >= 0 && now.getHours() <= 7) {
									var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")

									var countDownDate = new Date(date + " 07:30:00").getTime();
									//var countDownDate = new Date(date + " 23:59:00").getTime();
									var distance = countDownDate - now.getTime();

									var days = Math.floor(distance / (1000 * 60 * 60 * 24));
									var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
									var seconds = Math.floor((distance % (1000 * 60)) / 1000);

									var t = (hours * 60 * 60) + (minutes * 60) + seconds

									//console.log(days + " " + hours + " " + minutes + " " + seconds);
									//console.log(t/60);

									var g = 720 - (t / 60);
									//console.log(g);

									document.getElementById('Percen_Working_Time_84F3EBC91BC9').innerText = ((g / 720) * 100).toFixed(0) + " %"

									document.getElementById('Total_Working_Time_84F3EBC91BC9').innerText = g.toFixed(0) + " min"
								}
							}



						}

					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});

	}
	function Loop_Component2() {


		var time_now = new Date();
		var c_leg = 0;


		//console.log("H:" + time_now.getHours() <= 7 && time_now.getHours() >= 19)

		if (time_now.getHours() <= 7 || time_now.getHours() >= 19) {
			if (time_now.getHours() == 7 && time_now.getMinutes() < 30) {
				c_leg = 2
				//console.log("case1")
			}
			else if (time_now.getHours() < 7 || time_now.getHours() > 19) {
				c_leg = 2
				//console.log("case2")
			}

			else if (time_now.getHours() == 19 && time_now.getMinutes() >= 30) {
				c_leg = 2
				//console.log("case3")
			}

		}
		if (time_now.getHours() >= 7 && time_now.getHours() <= 19) {
			if (time_now.getHours() == 7 && time_now.getMinutes() >= 30) {
				c_leg = 1
				//console.log("case1")
			}
			else if (time_now.getHours() > 7 && time_now.getHours() < 19) {
				c_leg = 1
				//console.log("case2")
			}
			else if (time_now.getHours() == 19 && time_now.getMinutes() < 30) {
				c_leg = 1
				//console.log("case3")
			}

		}



		var Moletemp_ = [];
		var meltemp_ = [];
		var Time_ = [];
		//console.log("Temp_time_selector --> " + Temp_time_selector);
		fetch('http://' + Server_Name + ':14000/LOG_one_Day', { method: 'POST', body: JSON.stringify({ ID_Hardware: id_MC_showone_data, Temp_time_selector: Temp_time_selector }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('LIST LOG');

					response.json().then(json => {
						//console.log(json);

						var step_cout = 0
						var sum_Moletemp_ = 0;
						var sum_meltemp_ = 0;
						var average = 1;
						for (a = 0; a < json.length; a += 8) {
							var time_now = new Date();
							//var isoDateTime = new Date(json[a].Time_);
							//var time = isoDateTime.getHours().toString() + ":" + isoDateTime.getMinutes().toString() + ":"+isoDateTime.getSeconds().toString()

							Moletemp_.push(json[a].Mold_Temp)
							meltemp_.push(json[a].Melting_Temp)

							Time_.push(json[a].Time_)
							//Moletemp_.push(sum_Moletemp_/average)
							//meltemp_.push(sum_meltemp_/average)
							/*
														if(step_cout <= average)
														{
															sum_Moletemp_ += parseFloat(json[a].Mold_Temp)
															sum_meltemp_ += parseFloat(json[a].Melting_Temp)
															step_cout++
														}
														else
														{
							
							
															Time_.push(json[a].Time_)
															Moletemp_.push(sum_Moletemp_/average)
															meltemp_.push(sum_meltemp_/average)
															step_cout = 0;
							
															sum_Moletemp_ = 0;
															sum_meltemp_ = 0;
														}*/

						}
						//console.log("publi");
						config_chart1.data.labels = Time_;
						config_chart1.data.datasets[0].data = Moletemp_;
						config_chart1.data.datasets[1].data = meltemp_;
						window.myLine.update();
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				//console.log(error);
			});

		fetch('http://' + Server_Name + ':14000/LOG_one_Day_pie', { method: 'POST', body: JSON.stringify({ ID_Hardware: id_MC_showone_data, Temp_time_selector: Temp_time_selector }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('LIST LOG');

					response.json().then(json => {
						//console.log(json);
						console.log(Temp_time_selector)
						for (a = 0; a < json.length; a++) {
							var sum_max = parseFloat(json[a].Run_Time / 60) + parseFloat(json[a].Stop_Time / 60) + parseFloat(json[a].Break_Time / 60) + parseFloat(json[a].Offline_Time / 60)

							//var isoDateTime___ = new Date(date + " 07:30:00");

							if (Temp_time_selector == 1) {
								var Time_Now_cal = new Date();
								if (Time_Now_cal.getHours() < 7) {
									Time_Now_cal_ = new Date();
									Time_Now_cal_.setDate(Time_Now_cal.getDate() - 1);

									var plus_date = Time_Now_cal_.getFullYear() + "-" + convert(Time_Now_cal_.getMonth() + 1 + "") + "-" + convert(Time_Now_cal_.getDate() + "")

									var isoDateTime___ = new Date(plus_date + " 07:30:00");

									console.log(Time_Now_cal.toString())
									console.log(isoDateTime___.toString())

									var g = Time_Now_cal.getTime() - isoDateTime___.getTime();

									var days_ = Math.floor(g / (1000 * 60 * 60 * 24));
									var hours_ = Math.floor((g % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes_ = Math.floor((g % (1000 * 60 * 60)) / (1000 * 60));
									var seconds_ = Math.floor((g % (1000 * 60)) / 1000);

									console.log(days_ + " : " + hours_ + " : " + minutes_ + " : " + seconds_)
									var tt = (hours_ * 60) + (minutes_)
									console.log(tt)
									if (tt > 720) { tt = 720; }
									document.getElementById('Real_Runtime_Totle').innerText = tt + " min"
								}
								else {
									Time_Now_cal_ = new Date();
									Time_Now_cal_.setDate(Time_Now_cal.getDate());

									var plus_date = Time_Now_cal_.getFullYear() + "-" + convert(Time_Now_cal_.getMonth() + 1 + "") + "-" + convert(Time_Now_cal_.getDate() + "")

									var isoDateTime___ = new Date(plus_date + " 19:30:00");

									console.log(Time_Now_cal.toString())
									console.log(isoDateTime___.toString())

									var g = Time_Now_cal.getTime() - isoDateTime___.getTime();

									var days_ = Math.floor(g / (1000 * 60 * 60 * 24));
									var hours_ = Math.floor((g % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes_ = Math.floor((g % (1000 * 60 * 60)) / (1000 * 60));
									var seconds_ = Math.floor((g % (1000 * 60)) / 1000);

									console.log(days_ + " : " + hours_ + " : " + minutes_ + " : " + seconds_)
									var tt = (hours_ * 60) + (minutes_)
									console.log(tt)
									if (tt > 720) { tt = 720; }
									document.getElementById('Real_Runtime_Totle').innerText = tt + " min"
								}
							}
							else {
								var Time_Now_cal = new Date();
								if (Time_Now_cal.getHours() < 7) {
									Time_Now_cal_ = new Date();
									Time_Now_cal_.setDate(Time_Now_cal.getDate() - 1);

									var plus_date = Time_Now_cal_.getFullYear() + "-" + convert(Time_Now_cal_.getMonth() + 1 + "") + "-" + convert(Time_Now_cal_.getDate() + "")

									var isoDateTime___ = new Date(plus_date + " 19:30:00");

									console.log(Time_Now_cal.toString())
									console.log(isoDateTime___.toString())

									var g = Time_Now_cal.getTime() - isoDateTime___.getTime();

									var days_ = Math.floor(g / (1000 * 60 * 60 * 24));
									var hours_ = Math.floor((g % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes_ = Math.floor((g % (1000 * 60 * 60)) / (1000 * 60));
									var seconds_ = Math.floor((g % (1000 * 60)) / 1000);

									console.log(days_ + " : " + hours_ + " : " + minutes_ + " : " + seconds_)
									var tt = (hours_ * 60) + (minutes_)
									console.log(tt)
									if (tt > 720) { tt = 720; }
									document.getElementById('Real_Runtime_Totle').innerText = tt + " min"
								}
								else {
									Time_Now_cal_ = new Date();
									Time_Now_cal_.setDate(Time_Now_cal.getDate());

									var plus_date = Time_Now_cal_.getFullYear() + "-" + convert(Time_Now_cal_.getMonth() + 1 + "") + "-" + convert(Time_Now_cal_.getDate() + "")

									var isoDateTime___ = new Date(plus_date + " 19:30:00");

									console.log(Time_Now_cal.toString())
									console.log(isoDateTime___.toString())

									var g = Time_Now_cal.getTime() - isoDateTime___.getTime();

									var days_ = Math.floor(g / (1000 * 60 * 60 * 24));
									var hours_ = Math.floor((g % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes_ = Math.floor((g % (1000 * 60 * 60)) / (1000 * 60));
									var seconds_ = Math.floor((g % (1000 * 60)) / 1000);

									console.log(days_ + " : " + hours_ + " : " + minutes_ + " : " + seconds_)
									var tt = (hours_ * 60) + (minutes_)
									console.log(tt)
									if (tt > 720) { tt = 720; }
									document.getElementById('Real_Runtime_Totle').innerText = tt + " min"
								}

								//document.getElementById('Real_Runtime_Totle').innerText = "2 min"
							}
							var Now_d = new Date();
							//var distance =  Now_d.getTime() - isoDateTime___.getTime();


							/*var days_ = Math.floor(distance / (1000 * 60 * 60 * 24));
							var hours_ = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
							var minutes_ = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
							var seconds_ = Math.floor((distance % (1000 * 60)) / 1000);

							var t = (hours_*60*60)+(minutes_*60) + seconds_*/

							//document.getElementById('Real_Runtime_Totle').innerText = (sum_max).toFixed(0) + " min"

							//document.getElementById('Real_Runtime_Totle').innerText = (t).toFixed(0) + " min"

							document.getElementById('Real_Runtime').innerText = (json[a].Run_Time / 60).toFixed(0) + " min"
							document.getElementById('Real_Stoptime').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
							document.getElementById('Real_Breaktime').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
							//document.getElementById('Real_Alarmtime').innerText = (json[a].Offline_Time/60).toFixed(0) + " min"
							document.getElementById('Real_Offlinetime').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"


							document.getElementById('Real_RunCounter').innerText = json[a].Run_Counter_Product + " time"
							document.getElementById('Real_StopCounter').innerText = json[a].Stop_Counter + " time"
							document.getElementById('Real_BreakCounter').innerText = json[a].Break_Counter + " time"
							document.getElementById('Real_OfflineCounter').innerText = json[a].Offline_Counter + " time"


							document.getElementById('Real_RunPercen').innerText = ((parseFloat(json[a].Run_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
							document.getElementById('Real_StopPercen').innerText = ((parseFloat(json[a].Stop_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
							document.getElementById('Real_BreakPercen').innerText = ((parseFloat(json[a].Break_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
							document.getElementById('Real_OfflinePercen').innerText = ((parseFloat(json[a].Offline_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"

							var time_now = new Date();

							var s = []
							if (Temp_time_selector == 1) {
								s = ["7.30-8.29",
									"8.30-9.29",
									"9.30-10.29",
									"10.30-11.29",
									"11.30-12.29",
									"12.30-13.29",
									"13.30-14.29",
									"14.30-15.29",
									"15.30-16.29",
									"16.30-17.29",
									"17.30-18.29",
									"18.30-19.29"]
								//config_chart5.data.labels = s;

								var value_1 = json[a].counter_product_1[0]
								var value_2 = json[a].counter_product_1[1]
								var value_3 = json[a].counter_product_1[2]
								var value_4 = json[a].counter_product_1[3]
								var value_5 = json[a].counter_product_1[4]
								var value_6 = json[a].counter_product_1[5]
								var value_7 = json[a].counter_product_1[6]
								var value_8 = json[a].counter_product_1[7]
								var value_9 = json[a].counter_product_1[8]
								var value_10 = json[a].counter_product_1[9]
								var value_11 = json[a].counter_product_1[10]
								var value_12 = json[a].counter_product_1[11]

								var count_s = 0;

								//var time = time_now.getHours().toString() + ":" + isoDateTime.getMinutes().toString() + ":"+isoDateTime.getSeconds().toString()


								if (time_now.getHours() >= 19) {
									count_s = 12;
								}
								else if (time_now.getHours() <= 7) {
									count_s = 12;
								}
								else {
									if (time_now.getHours() == 7) { count_s = 1; }
									else if (time_now.getHours() == 8) { count_s = 2; }
									else if (time_now.getHours() == 9) { count_s = 3; }
									else if (time_now.getHours() == 10) { count_s = 4; }
									else if (time_now.getHours() == 11) { count_s = 5; }
									else if (time_now.getHours() == 12) { count_s = 6; }
									else if (time_now.getHours() == 13) { count_s = 7; }
									else if (time_now.getHours() == 14) { count_s = 8; }
									else if (time_now.getHours() == 15) { count_s = 9; }
									else if (time_now.getHours() == 16) { count_s = 10; }
									else if (time_now.getHours() == 17) { count_s = 11; }
									else if (time_now.getHours() == 18) { count_s = 12; }
								}

								/*
																		if(value_1 == 0){count_s = 1;}
																		else if(value_2 == 0){count_s = 2;}
																		else if(value_3 == 0){count_s = 3;}
																		else if(value_4 == 0){count_s = 4;}
																		else if(value_5 == 0){count_s = 5;}
																		else if(value_6 == 0){count_s = 6;}
																		else if(value_7 == 0){count_s = 7;}
																		else if(value_8 == 0){count_s = 8;}
																		else if(value_9 == 0){count_s = 9;}
																		else if(value_10 == 0){count_s = 10;}
																		else if(value_11 == 0){count_s = 11;}
																		else if(value_12 == 0){count_s = 12;}*/

								var aaaa = [value_1,
									value_1 + value_2,
									value_1 + value_2 + value_3,
									value_1 + value_2 + value_3 + value_4,
									value_1 + value_2 + value_3 + value_4 + value_5,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11 + value_12]

								var d = [];
								for (var g = 0; g < count_s; g++) {
									d.push(aaaa[g]);
								}

								var time_ = [];
								for (var g = 0; g < count_s; g++) {
									time_.push(s[g]);
								}

								config_chart5.data.labels = time_;

								//console.log("counter ---> "+count_s);
								//console.log(d);
								//console.log("-------------");
								config_chart5.data.datasets[0].data = d;
							}
							else if (Temp_time_selector == 2) {
								s = ["19.30-20.29",
									"20.30-21.29",
									"21.30-22.29",
									"22.30-23.29",
									"23.30-0.29",
									"0.30-1.29",
									"1.30-2.29",
									"2.30-3.29",
									"3.30-4.29",
									"4.30-5.29",
									"5.30-6.29",
									"6.30-7.29"]


								var value_1 = json[a].counter_product_2[0]
								var value_2 = json[a].counter_product_2[1]
								var value_3 = json[a].counter_product_2[2]
								var value_4 = json[a].counter_product_2[3]
								var value_5 = json[a].counter_product_2[4]
								var value_6 = json[a].counter_product_2[5]
								var value_7 = json[a].counter_product_2[6]
								var value_8 = json[a].counter_product_2[7]
								var value_9 = json[a].counter_product_2[8]
								var value_10 = json[a].counter_product_2[9]
								var value_11 = json[a].counter_product_2[10]
								var value_12 = json[a].counter_product_2[11]

								var count_s = 0;

								if (time_now.getHours() <= 19 && time_now.getHours() >= 7) {
									count_s = 0;
								}

								else {
									if (time_now.getHours() == 19) { count_s = 0; }
									else if (time_now.getHours() == 20) { count_s = 1; }
									else if (time_now.getHours() == 21) { count_s = 2; }
									else if (time_now.getHours() == 22) { count_s = 3; }
									else if (time_now.getHours() == 23) { count_s = 4; }
									else if (time_now.getHours() == 0) { count_s = 5; }
									else if (time_now.getHours() == 1) { count_s = 6; }
									else if (time_now.getHours() == 2) { count_s = 7; }
									else if (time_now.getHours() == 3) { count_s = 8; }
									else if (time_now.getHours() == 4) { count_s = 9; }
									else if (time_now.getHours() == 5) { count_s = 10; }
									else if (time_now.getHours() == 6) { count_s = 11; }
								}


								var aaaa = [value_1,
									value_1 + value_2,
									value_1 + value_2 + value_3,
									value_1 + value_2 + value_3 + value_4,
									value_1 + value_2 + value_3 + value_4 + value_5,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11 + value_12]


								var d = [];
								for (var g = 0; g < count_s; g++) {
									d.push(aaaa[g]);
								}

								var time_ = [];
								for (var g = 0; g < count_s; g++) {
									time_.push(s[g]);
								}

								config_chart5.data.labels = time_;
								console.log("counter ---> " + count_s);
								console.log(d);
								console.log("-------------");

								config_chart5.data.datasets[0].data = d;
							}

							window.myLine_5.update();


							//var myLine_5 = new Chart(ctx5, config_chart5);
						}

					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});


		fetch('http://' + Server_Name + ':14000/LOG_one_Day_pie', { method: 'POST', body: JSON.stringify({ ID_Hardware: id_MC_showone_data, Temp_time_selector: c_leg }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('c_leg = ' + c_leg);

					response.json().then(json => {
						//console.log(json);
						for (a = 0; a < json.length; a++) {
							var sum_max = parseFloat(json[a].Run_Time / 60) + parseFloat(json[a].Stop_Time / 60) + parseFloat(json[a].Break_Time / 60) + parseFloat(json[a].Offline_Time / 60)

							//document.getElementById('one_Total_Working_Time_').innerText = (sum_max).toFixed(0) + " min"
							document.getElementById('one_Working_Time_').innerText = (json[a].Run_Time / 60).toFixed(0) + " min"
							document.getElementById('one_Stop_Time_').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
							document.getElementById('one_Break_Time_').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
							document.getElementById('one_Alarm_').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"
							document.getElementById('one_Total_Stop_Machine_').innerText = "0 min"

							//document.getElementById('select_Total_Working_Time_').innerText = (sum_max).toFixed(0) + " min"
							document.getElementById('select_Working_Time_').innerText = (json[a].Run_Time / 60).toFixed(0) + " min"
							document.getElementById('select_Stop_Time_').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
							document.getElementById('select_Break_Time_').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
							document.getElementById('select_Alarm_').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"
							document.getElementById('select_Total_Stop_Machine_').innerText = "0 min"

							if (c_leg == 1) {
								var now = new Date();

								var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")
								var countDownDate = new Date(date + " 19:30:00").getTime();

								var distance = countDownDate - now.getTime();

								var days = Math.floor(distance / (1000 * 60 * 60 * 24));
								var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
								var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
								var seconds = Math.floor((distance % (1000 * 60)) / 1000);

								console.log(days + " " + hours + " " + minutes + " " + seconds);

								var t = (hours * 60 * 60) + (minutes * 60) + seconds

								console.log(days + " " + hours + " " + minutes + " " + seconds);
								console.log(t / 60);

								var g = 720 - (t / 60);
								console.log(g);

								document.getElementById('one_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"
								document.getElementById('select_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"

								document.getElementById('one_Total_Working_Time_').innerText = g.toFixed(0) + " min"
								document.getElementById('select_Total_Working_Time_').innerText = g.toFixed(0) + " min"

								//document.getElementById('one_Working_Time_').innerText = g.toFixed(0) + " min"

							}
							else if (c_leg == 2) {
								var now = new Date();

								if (now.getHours() >= 19 && now.getHours() <= 24) {
									var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")
									//var countDownDate = new Date(date + " 07:30:00").getTime();
									var countDownDate = new Date(date + " 23:59:00").getTime();
									var distance = countDownDate - now.getTime();

									var days = Math.floor(distance / (1000 * 60 * 60 * 24));
									var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
									var seconds = Math.floor((distance % (1000 * 60)) / 1000);

									var t = (hours * 60 * 60) + (minutes * 60) + seconds

									//console.log(days + " " + hours + " " + minutes + " " + seconds);
									//console.log(t/60);

									var g = 270 - (t / 60);
									//console.log(g);

									document.getElementById('one_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"
									document.getElementById('select_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"

									document.getElementById('one_Total_Working_Time_').innerText = g.toFixed(0) + " min"
									document.getElementById('select_Total_Working_Time_').innerText = g.toFixed(0) + " min"
								}
								else if (now.getHours() >= 0 && now.getHours() <= 7) {

									var date = now.getFullYear().toString() + "-" + convert(now.getMonth() + 1 + "") + "-" + convert(now.getDate() + "")
									var countDownDate = new Date(date + " 07:30:00").getTime();

									var distance = countDownDate - now.getTime();

									var days = Math.floor(distance / (1000 * 60 * 60 * 24));
									var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
									var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
									var seconds = Math.floor((distance % (1000 * 60)) / 1000);

									var t = (hours * 60 * 60) + (minutes * 60) + seconds

									//console.log(days + " " + hours + " " + minutes + " " + seconds);
									//console.log(t/60);

									var g = 720 - (t / 60);
									//console.log(g);

									document.getElementById('one_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"
									document.getElementById('select_Percen_Working_Time_').innerText = ((g / 720) * 100).toFixed(0) + " %"

									document.getElementById('one_Total_Working_Time_').innerText = g.toFixed(0) + " min"
									document.getElementById('select_Total_Working_Time_').innerText = g.toFixed(0) + " min"
								}
							}


							/*
														document.getElementById('Real_RunCounter').innerText = json[a].Run_Counter_Product + " time"
														document.getElementById('Real_StopCounter').innerText = json[a].Stop_Counter + " time"
														document.getElementById('Real_BreakCounter').innerText = json[a].Break_Counter + " time"
														document.getElementById('Real_OfflineCounter').innerText = json[a].Offline_Counter + " time"
							
														
														document.getElementById('Real_RunPercen').innerText = ((parseFloat(json[a].Run_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_StopPercen').innerText = ((parseFloat(json[a].Stop_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_BreakPercen').innerText = ((parseFloat(json[a].Break_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_OfflinePercen').innerText = ((parseFloat(json[a].Offline_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														*/

						}

					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});







		var date_Select = $('#datePicker').val();
		var sel_Machine = document.getElementById('Selecdatetime_graph')
		var value_id = sel_Machine.options[sel_Machine.selectedIndex].value;

		fetch('http://' + Server_Name + ':14000/LOG_one_Day_pie_select_date', { method: 'POST', body: JSON.stringify({ ID_Hardware: id_MC_showone_data, Temp_time_selector: value_id, date_Select: date_Select }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {
					//console.log('LIST LOG');

					response.json().then(json => {
						console.log(json);

						if (json.length == 0) {
							document.getElementById('Real_Runtime_Totle_').innerText = "0 min"
							document.getElementById('Real_Runtime_').innerText = "0 min"
							document.getElementById('Real_Stoptime_').innerText = "0 min"
							document.getElementById('Real_Breaktime_').innerText = "0 min"
							document.getElementById('Real_Alarmtime_').innerText = "0 min"



							document.getElementById('Real_RunCounter_').innerText = "0 time"
							document.getElementById('Real_StopCounter_').innerText = "0 time"
							document.getElementById('Real_BreakCounter_').innerText = "0 time"
							document.getElementById('Real_OfflineCounter_').innerText = "0 time"


							document.getElementById('Real_RunPercen_').innerText = "0 %"
							document.getElementById('Real_StopPercen_').innerText = "0 %"
							document.getElementById('Real_BreakPercen_').innerText = "0 %"
							document.getElementById('Real_OfflinePercen_').innerText = "0 %"

						}


						for (a = 0; a < json.length; a++) {
							/*
							Real_RunCounter
							Real_StopCounter
							Real_BreakCounter
							Real_AlarmCounter
							Real_OfflineCounter

							Real_RunPercen
							Real_StopPercen
							Real_BreakPercen
							Real_AlarmPercen
							Real_OfflinePercen

							Real_Runtime
							Real_Stoptime
							Real_Breaktime
							Real_Alarmtime
							Real_Offlinetime
*/

							//var sum_max_k = parseFloat(json[a].Run_Time/60) + parseFloat(json[a].Stop_Time/60) + parseFloat(json[a].Break_Time/60) + parseFloat(json[a].Offline_Time/60)
							//console.log(" [sum_max_k] -----------------------> " + json[a].length);

							if (json[a].length > 0) {
								if (json[a].length > 800) {
									/*var offline_time = 0;
									if((json[a].Offline_Time/60) <= 100)
									{
										offline_time = json[a].Offline_Time/60
									}
									else{
										offline_time = 90;
									}*/

									var sum_max = parseFloat(json[a].Run_Time / 60) + parseFloat(json[a].Stop_Time / 60) + parseFloat(json[a].Break_Time / 60) + parseFloat(json[a].Offline_Time / 60)

									var s = sum_max - 720

									//console.log("-----------------------> " + s);
									sum_max = sum_max - s
									//totalworking_time
									document.getElementById('Real_Runtime_Totle_').innerText = (json[a].totalworking_time).toFixed(0) + " min"
									document.getElementById('Real_Runtime_').innerText = ((json[a].Run_Time / 60) - s).toFixed(0) + " min"
									document.getElementById('Real_Stoptime_').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
									document.getElementById('Real_Breaktime_').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
									document.getElementById('Real_Offlinetime_').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"
									//document.getElementById('Real_Offlinetime_').innerText = (offline_time).toFixed(0) + " min"


									document.getElementById('Real_RunCounter_').innerText = json[a].Run_Counter_Product + " time"
									document.getElementById('Real_StopCounter_').innerText = json[a].Stop_Counter + " time"
									document.getElementById('Real_BreakCounter_').innerText = json[a].Break_Counter + " time"
									document.getElementById('Real_OfflineCounter_').innerText = json[a].Offline_Counter + " time"

									document.getElementById('Real_RunPercen_').innerText = ((parseFloat((json[a].Run_Time / 60) - s) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_StopPercen_').innerText = ((parseFloat(json[a].Stop_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_BreakPercen_').innerText = ((parseFloat(json[a].Break_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_OfflinePercen_').innerText = ((parseFloat(json[a].Offline_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
								}
								else {


									var sum_max = parseFloat(json[a].Run_Time / 60) + parseFloat(json[a].Stop_Time / 60) + parseFloat(json[a].Break_Time / 60) + parseFloat(json[a].Offline_Time / 60)

									//var s = sum_max - 720

									//console.log("-----------------------> " + s);
									//sum_max = sum_max - s

									//document.getElementById('Real_Runtime_Totle_').innerText = (sum_max).toFixed(0) + " min"
									document.getElementById('Real_Runtime_Totle_').innerText = (json[a].totalworking_time) + " min"
									document.getElementById('Real_Runtime_').innerText = ((json[a].Run_Time / 60)).toFixed(0) + " min"
									document.getElementById('Real_Stoptime_').innerText = (json[a].Stop_Time / 60).toFixed(0) + " min"
									document.getElementById('Real_Breaktime_').innerText = (json[a].Break_Time / 60).toFixed(0) + " min"
									//document.getElementById('Real_Offlinetime_').innerText = (offline_time).toFixed(0) + " min"
									document.getElementById('Real_Offlinetime_').innerText = (json[a].Offline_Time / 60).toFixed(0) + " min"

									document.getElementById('Real_RunCounter_').innerText = json[a].Run_Counter_Product + " time"
									document.getElementById('Real_StopCounter_').innerText = json[a].Stop_Counter + " time"
									document.getElementById('Real_BreakCounter_').innerText = json[a].Break_Counter + " time"
									document.getElementById('Real_OfflineCounter_').innerText = json[a].Offline_Counter + " time"

									document.getElementById('Real_RunPercen_').innerText = ((parseFloat((json[a].Run_Time / 60)) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_StopPercen_').innerText = ((parseFloat(json[a].Stop_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_BreakPercen_').innerText = ((parseFloat(json[a].Break_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
									document.getElementById('Real_OfflinePercen_').innerText = ((parseFloat(json[a].Offline_Time / 60) / parseFloat(sum_max)) * parseFloat(100)).toFixed(2) + " %"
								}
							}
							else {
								document.getElementById('Real_Runtime_Totle_').innerText = "0 min"
								document.getElementById('Real_Runtime_').innerText = "0 min"
								document.getElementById('Real_Stoptime_').innerText = "0 min"
								document.getElementById('Real_Breaktime_').innerText = "0 min"
								document.getElementById('Real_Offlinetime_').innerText = "0 min"

								document.getElementById('Real_RunCounter_').innerText = "0 time"
								document.getElementById('Real_StopCounter_').innerText = "0 time"
								document.getElementById('Real_BreakCounter_').innerText = "0 time"
								document.getElementById('Real_OfflineCounter_').innerText = "0 time"

								document.getElementById('Real_RunPercen_').innerText = "0 %"
								document.getElementById('Real_StopPercen_').innerText = "0 %"
								document.getElementById('Real_BreakPercen_').innerText = "0 %"
								document.getElementById('Real_OfflinePercen_').innerText = "0 %"
							}

							var time_now = new Date();
							//console.log("Temp_time_selector -> " + value_id)
							var s = []
							if (value_id == 1) {
								s = ["7.30-8.29",
									"8.30-9.29",
									"9.30-10.29",
									"10.30-11.29",
									"11.30-12.29",
									"12.30-13.29",
									"13.30-14.29",
									"14.30-15.29",
									"15.30-16.29",
									"16.30-17.29",
									"17.30-18.29",
									"18.30-19.29"]
								//config_chart5.data.labels = s;

								var value_1 = json[a].counter_product_1[0]
								var value_2 = json[a].counter_product_1[1]
								var value_3 = json[a].counter_product_1[2]
								var value_4 = json[a].counter_product_1[3]
								var value_5 = json[a].counter_product_1[4]
								var value_6 = json[a].counter_product_1[5]
								var value_7 = json[a].counter_product_1[6]
								var value_8 = json[a].counter_product_1[7]
								var value_9 = json[a].counter_product_1[8]
								var value_10 = json[a].counter_product_1[9]
								var value_11 = json[a].counter_product_1[10]
								var value_12 = json[a].counter_product_1[11]

								var count_s = 12;

								//var time = time_now.getHours().toString() + ":" + isoDateTime.getMinutes().toString() + ":"+isoDateTime.getSeconds().toString()


								/*if(time_now.getHours() >= 19)
								{
									count_s = 12;
								}
								else if(time_now.getHours() <= 7)
								{
									count_s = 12;
								}
								else
								{
									if(time_now.getHours() == 7	){count_s = 1;}
									else if(time_now.getHours() == 8 ){count_s = 2;}
									else if(time_now.getHours() == 9 ){count_s = 3;}
									else if(time_now.getHours() == 10 ){count_s = 4;}
									else if(time_now.getHours() == 11 ){count_s = 5;}
									else if(time_now.getHours() == 12 ){count_s = 6;}
									else if(time_now.getHours() == 13 ){count_s = 7;}
									else if(time_now.getHours() == 14 ){count_s = 8;}
									else if(time_now.getHours() == 15 ){count_s = 9;}
									else if(time_now.getHours() == 16 ){count_s = 10;}
									else if(time_now.getHours() == 17 ){count_s = 11;}
									else if(time_now.getHours() == 18 ){count_s = 12;}
								}*/

								/*
																		if(value_1 == 0){count_s = 1;}
																		else if(value_2 == 0){count_s = 2;}
																		else if(value_3 == 0){count_s = 3;}
																		else if(value_4 == 0){count_s = 4;}
																		else if(value_5 == 0){count_s = 5;}
																		else if(value_6 == 0){count_s = 6;}
																		else if(value_7 == 0){count_s = 7;}
																		else if(value_8 == 0){count_s = 8;}
																		else if(value_9 == 0){count_s = 9;}
																		else if(value_10 == 0){count_s = 10;}
																		else if(value_11 == 0){count_s = 11;}
																		else if(value_12 == 0){count_s = 12;}*/

								var aaaa = [value_1,
									value_1 + value_2,
									value_1 + value_2 + value_3,
									value_1 + value_2 + value_3 + value_4,
									value_1 + value_2 + value_3 + value_4 + value_5,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11 + value_12]

								var d = [];
								for (var g = 0; g < count_s; g++) {
									d.push(aaaa[g]);
								}

								var time_ = [];
								for (var g = 0; g < count_s; g++) {
									time_.push(s[g]);
								}

								config_chart6.data.labels = time_;

								/*console.log("counter ---> "+count_s);
								console.log(d);
								console.log("-------------");*/
								config_chart6.data.datasets[0].data = d;
							}
							else if (value_id == 2) {
								s = ["19.30-20.29",
									"20.30-21.29",
									"21.30-22.29",
									"22.30-23.29",
									"23.30-0.29",
									"0.30-1.29",
									"1.30-2.29",
									"2.30-3.29",
									"3.30-4.29",
									"4.30-5.29",
									"5.30-6.29",
									"6.30-7.29"]


								var value_1 = json[a].counter_product_2[0]
								var value_2 = json[a].counter_product_2[1]
								var value_3 = json[a].counter_product_2[2]
								var value_4 = json[a].counter_product_2[3]
								var value_5 = json[a].counter_product_2[4]
								var value_6 = json[a].counter_product_2[5]
								var value_7 = json[a].counter_product_2[6]
								var value_8 = json[a].counter_product_2[7]
								var value_9 = json[a].counter_product_2[8]
								var value_10 = json[a].counter_product_2[9]
								var value_11 = json[a].counter_product_2[10]
								var value_12 = json[a].counter_product_2[11]

								var count_s = 12;

								/*if(time_now.getHours() <= 19 && time_now.getHours() >= 7)
								{
									count_s = 0;
								}
								
								else
								{
									if(time_now.getHours() == 19	){count_s = 0;}
									else if(time_now.getHours() == 20 ){count_s = 1;}
									else if(time_now.getHours() == 21 ){count_s = 2;}
									else if(time_now.getHours() == 22 ){count_s = 3;}
									else if(time_now.getHours() == 23 ){count_s = 4;}
									else if(time_now.getHours() == 0 ){count_s = 5;}
									else if(time_now.getHours() == 1 ){count_s = 6;}
									else if(time_now.getHours() == 2 ){count_s = 7;}
									else if(time_now.getHours() == 3 ){count_s = 8;}
									else if(time_now.getHours() == 4 ){count_s = 9;}
									else if(time_now.getHours() == 5 ){count_s = 10;}
									else if(time_now.getHours() == 6 ){count_s = 11;}
								}*/


								var aaaa = [value_1,
									value_1 + value_2,
									value_1 + value_2 + value_3,
									value_1 + value_2 + value_3 + value_4,
									value_1 + value_2 + value_3 + value_4 + value_5,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11,
									value_1 + value_2 + value_3 + value_4 + value_5 + value_6 + value_7 + value_8 + value_9 + value_10 + value_11 + value_12]


								var d = [];
								for (var g = 0; g < count_s; g++) {
									d.push(aaaa[g]);
								}

								var time_ = [];
								for (var g = 0; g < count_s; g++) {
									time_.push(s[g]);
								}

								config_chart6.data.labels = time_;
								console.log("counter ---> " + count_s);
								console.log(d);
								console.log("-------------");

								config_chart6.data.datasets[0].data = d;
							}

							window.myLine_6.update();




							//-----------------------------------------

							/*
														document.getElementById('Real_Runtime_').innerText = (json[a].Run_Time/60).toFixed(2) + " min"
							
														document.getElementById('Real_RunCounter_').innerText = json[a].Run_Counter_Product + " time"
														document.getElementById('Real_StopCounter_').innerText = json[a].Stop_Counter + " time"
														document.getElementById('Real_BreakCounter_').innerText = json[a].Break_Counter + " time"
														document.getElementById('Real_OfflineCounter_').innerText = json[a].Offline_Counter + " time"
							
														var sum_max = parseFloat(json[a].Run_Counter_Product) + parseFloat(json[a].Stop_Counter) + parseFloat(json[a].Break_Counter) + parseFloat(json[a].Offline_Counter)
										
														document.getElementById('Real_RunPercen_').innerText = ((parseFloat(json[a].Run_Counter_Product) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_StopPercen_').innerText = ((parseFloat(json[a].Stop_Counter) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_BreakPercen_').innerText = ((parseFloat(json[a].Break_Counter) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_OfflinePercen_').innerText = ((parseFloat(json[a].Offline_Counter) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
							*/





							/*
														var sum_max = parseFloat(json[a].Run_Time/60) + parseFloat(json[a].Stop_Time/60) + parseFloat(json[a].Break_Time/60) + parseFloat(json[a].Offline_Time/60)
										
							
														
														document.getElementById('Real_Runtime_Totle').innerText = (sum_max).toFixed(0) + " min"
														document.getElementById('Real_Runtime').innerText = (json[a].Run_Time/60).toFixed(0) + " min"
														document.getElementById('Real_Stoptime').innerText = (json[a].Stop_Time/60).toFixed(0) + " min"
														document.getElementById('Real_Breaktime').innerText = (json[a].Break_Time/60).toFixed(0) + " min"
														document.getElementById('Real_Alarmtime').innerText = (json[a].Offline_Time/60).toFixed(0) + " min"
							
							
							
														document.getElementById('Real_RunCounter').innerText = json[a].Run_Counter_Product + " time"
														document.getElementById('Real_StopCounter').innerText = json[a].Stop_Counter + " time"
														document.getElementById('Real_BreakCounter').innerText = json[a].Break_Counter + " time"
														document.getElementById('Real_OfflineCounter').innerText = json[a].Offline_Counter + " time"
							
														
														document.getElementById('Real_RunPercen').innerText = ((parseFloat(json[a].Run_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_StopPercen').innerText = ((parseFloat(json[a].Stop_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_BreakPercen').innerText = ((parseFloat(json[a].Break_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														document.getElementById('Real_OfflinePercen').innerText = ((parseFloat(json[a].Offline_Time/60) / parseFloat(sum_max))*parseFloat(100)).toFixed(2) + " %"
														
							*/













						}

					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});


		function_select_datetime();


	}



	function convert(data) {
		var r = ""
		if (data.length == 1) {
			r = "0" + data;
		}
		else if (data.length == 2) {
			r = "" + data;
		}

		return r;
	}



	function Time_count_cycle_time(time) {

		var days_ = Math.floor(time / (1000 * 60 * 60 * 24));
		var hours_ = Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes_ = Math.floor((time % (1000 * 60 * 60)) / (1000 * 60));
		var seconds_ = Math.floor((time % (1000 * 60)) / 1000);

		//document.getElementById('Cycle_Time_0ne').innerText = seconds_ + " Sec"
		//document.getElementById('Cycle_Time_0ne').innerText = (minutes_*60) + seconds_ + " Sec"
	}



	function List_Location_Edit() {
		var sel_Factories = document.getElementById('option_edit_Fac')




		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		console.log(value_id);

		document.getElementById('input_edit_Fac').value = sel_Factories.options[sel_Factories.selectedIndex].text;




		Clear_option('option_edit_Loc');
		var sel = document.getElementById('option_edit_Loc');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = "- No Select -";
		sel.appendChild(opt);

		Clear_option('option_edit_Mac');

		//Clear_option('Machine_Select');
		var sel2 = document.getElementById('option_edit_Mac');

		var opt2 = document.createElement('option');
		opt2.appendChild(document.createTextNode("- No Select -"));
		opt2.value = "- No Select -";
		sel2.appendChild(opt2);



		fetch('http://' + Server_Name + ':14000/List_Location', { method: 'POST', body: JSON.stringify({ ID_Factories: value_id }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {

					response.json().then(json => {

						for (a = 0; a < json.length; a++) {
							var opt = document.createElement('option');
							opt.appendChild(document.createTextNode(json[a].Name_Location));
							opt.value = json[a].id;
							sel.appendChild(opt);
						}
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	function List_Machine_Edit() {

		var sel_Factories = document.getElementById('option_edit_Loc')

		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		console.log(value_id);

		document.getElementById('input_edit_Loc').value = sel_Factories.options[sel_Factories.selectedIndex].text;
		Clear_option('option_edit_Mac');
		var sel = document.getElementById('option_edit_Mac');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = "- No Select -";
		sel.appendChild(opt);

		fetch('http://' + Server_Name + ':14000/List_Machine', { method: 'POST', body: JSON.stringify({ ID_Location: value_id }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {

					response.json().then(json => {
						console.log(json);
						for (a = 0; a < json.length; a++) {
							var opt = document.createElement('option');
							opt.appendChild(document.createTextNode(json[a].Name_Machine));
							opt.value = json[a].id;
							sel.appendChild(opt);
						}
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	function List_Hardware_Edit() {

		/*var sel10 = document.getElementById('option_edit_Fac');
		var sel11 = document.getElementById('option_edit_Loc');
		var sel12 = document.getElementById('option_edit_Mac');
		var sel13 = document.getElementById('option_edit_Hw');
	*/

		var sel_Factories = document.getElementById('option_edit_Mac')

		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		console.log(value_id);

		document.getElementById('input_edit_Mac').value = sel_Factories.options[sel_Factories.selectedIndex].text;

		Clear_option('option_edit_Hw');
		var sel = document.getElementById('option_edit_Hw');

		var opt = document.createElement('option');
		opt.appendChild(document.createTextNode("- No Select -"));
		opt.value = "- No Select -";
		sel.appendChild(opt);

		fetch('http://' + Server_Name + ':14000/List_Hardware', { method: 'POST', body: JSON.stringify({ ID_Hardware: value_id }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {

					response.json().then(json => {
						console.log("Data -> " + json);
						for (a = 0; a < json.length; a++) {
							/*
							for (name in rows) {
						Data_User.push({id : rows[name].id,
							id_machine : rows[name].id_machine,
							Name_Machine : rows[name].Name_Machine,
							Name_Job : rows[name].Name_Job,
							ADDR : rows[name].ADDR});
					}  */

							var opt = document.createElement('option');
							opt.appendChild(document.createTextNode(json[a].Name_Machine));
							opt.value = json[a].id;
							sel.appendChild(opt);
						}
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});
	}
	function Click_Hw_Edit() {
		var sel_Factories = document.getElementById('option_edit_Hw')

		var value_id = sel_Factories.options[sel_Factories.selectedIndex].value;
		console.log(value_id);
		document.getElementById('input_edit_Hw').value = sel_Factories.options[sel_Factories.selectedIndex].text;
	}
	function Insert_Fac_Name() {
		var Name_Factory = document.getElementById('input_edit_Fac').value;
		/*var r = confirm("Your Insert " + Name_Factory);
		if (r == true) {*/

		console.log(Status_Login);
		console.log(Name_Factory);
		fetch('http://' + Server_Name + ':14000/Manage_Factory', { method: 'POST', body: JSON.stringify({ Type: 'Insert', ID_User: Status_Login, Name_Factory: Name_Factory }), headers: { "Content-Type": "application/json" } })
			.then(function (response) {
				if (response.status == 200) {

					response.json().then(json => {
						location.reload(true);
					})
					return;
				}
				else {
				}
				throw new Error('Request failed.');
			})
			.then(data => {
			})
			.catch(function (error) {
				console.log(error);
			});
		/*} else {
		
		}*/
	}
	function Edit_Fac_Name() {
		var sel_Factories = document.getElementById('option_edit_Fac')
		var Name_Factory = document.getElementById('input_edit_Fac').value;

		var r = confirm("Your Edit " + Name_Factory);
		if (r == true) {

			var value_id = sel_Factories.options[sel_Factories.selectedIndex].text;


			console.log(Status_Login);
			console.log(Name_Factory);
			fetch('http://' + Server_Name + ':14000/Insert_Factory', { method: 'POST', body: JSON.stringify({ Type: 'Edit', ID_User: Status_Login, Name_Factory: Name_Factory, old_Name_Factory: value_id }), headers: { "Content-Type": "application/json" } })
				.then(function (response) {
					if (response.status == 200) {

						response.json().then(json => {
							location.reload(true);
						})
						return;
					}
					else {
					}
					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});
		}
		else {

		}
	}
	function Delete_Fac_Name() {
		var Name_Factory = document.getElementById('input_edit_Fac').value;
		var r = confirm("Your Delete " + Name_Factory);
		if (r == true) {

			console.log(Status_Login);
			console.log(Name_Factory);
			fetch('http://' + Server_Name + ':14000/Insert_Factory', { method: 'POST', body: JSON.stringify({ Type: 'Delete', ID_User: Status_Login, Name_Factory: Name_Factory }), headers: { "Content-Type": "application/json" } })
				.then(function (response) {
					if (response.status == 200) {

						response.json().then(json => {
							location.reload(true);
						})
						return;
					}
					else {
					}
					throw new Error('Request failed.');
				})
				.then(data => {
				})
				.catch(function (error) {
					console.log(error);
				});
		}
		else {

		}
	}
	function Clear_option(Name_option) {
		var sel = document.getElementById(Name_option);
		var i;
		for (i = sel.options.length - 1; i >= 0; i--) {
			sel.remove(i);
		}
	}
	function Logout() {
		console.log("LOGOUT");
		sessionStorage.removeItem("Status_Login");
		localStorage.setItem("Status_Login", null);
		document.location.href = "index.html";
	}





</script>

<script>
	function exportyears() {
		exportToCsv("Year_Production_" + document.getElementById("dateselectoryear").value + ".csv", rows_production)
	}
	function exportmonth() {
		exportToCsv("Month_temparature_" + document.getElementById("dateselectormonth").value + ".csv", rows)
		exportToCsv("Month_Production_" + document.getElementById("dateselectormonth").value + ".csv", rows_production)
	}

	function exportonedat() {

		//console.log(rows)
		exportToCsv("temparature_" + document.getElementById("dateselectoroneday").value + "_" + SelectCase + ".csv", rows)
		exportToCsv("Production_" + document.getElementById("dateselectoroneday").value + "_" + SelectCase + ".csv", rows_production)
	}

	function exportToCsv(filename, rows) {
		var processRow = function (row) {
			var finalVal = '';
			for (var j = 0; j < row.length; j++) {
				var innerValue = row[j] === null ? '' : row[j].toString();
				if (row[j] instanceof Date) {
					innerValue = row[j].toLocaleString();
				};
				var result = innerValue.replace(/"/g, '""');
				if (result.search(/("|,|\n)/g) >= 0)
					result = '"' + result + '"';
				if (j > 0)
					finalVal += ',';
				finalVal += result;
			}
			return finalVal + '\n';
		};

		var csvFile = '';
		for (var i = 0; i < rows.length; i++) {
			csvFile += processRow(rows[i]);
		}

		var blob = new Blob([csvFile], { type: 'text/csv;charset=utf-8;' });
		if (navigator.msSaveBlob) { // IE 10+
			navigator.msSaveBlob(blob, filename);
		} else {
			var link = document.createElement("a");
			if (link.download !== undefined) { // feature detection
				// Browsers that support HTML5 download attribute
				var url = URL.createObjectURL(blob);
				link.setAttribute("href", url);
				link.setAttribute("download", filename);
				link.style.visibility = 'hidden';
				document.body.appendChild(link);
				link.click();
				document.body.removeChild(link);
			}
		}
	}
</script>

</html>